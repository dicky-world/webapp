(this.webpackJsonpdicky=this.webpackJsonpdicky||[]).push([[0],{20:function(e,t,a){e.exports=a.p+"static/media/screen-1.3397820a.webp"},28:function(e,t,a){e.exports=a.p+"static/media/left-dark.a6136ec5.svg"},29:function(e,t,a){e.exports=a.p+"static/media/right-dark.19495472.svg"},30:function(e,t,a){e.exports=a.p+"static/media/screen-2.7110bac9.webp"},31:function(e,t,a){e.exports=a.p+"static/media/screen-3.93bb79f7.webp"},32:function(e,t,a){e.exports=a.p+"static/media/screen-4.2fdc109a.webp"},33:function(e,t,a){e.exports=a.p+"static/media/screen-5.702477d9.webp"},36:function(e,t,a){e.exports=a(56)},55:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(15),l=a.n(o),c=a(4),i=a(6),s=a(13),u=a(1),m=a.n(u),p=a(2),d=a(3);function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var g,b=Object(r.createContext)({dispatch:function(e){}}),E=localStorage.getItem("shared");E&&(g=JSON.parse(E));var h={display:{modal:""},env:{apiUrl:"https://api.dicky.world",imgUrl:"https://s3-eu-west-1.amazonaws.com/img.dicky.world/"},shared:g||{avatarId:"",bio:"",country:"",coverId:"",currency:"USD",dob:"2011-04-11",email:"",followers:0,following:0,fullName:"",gender:"other",language:"en",location:"",loggedIn:!1,mobileCode:"",mobileNumber:"",twofactor:!1,username:"",warningMessage:"",webSite:""}},w=Object(r.createContext)({global:h}),y="SET_MODAL",x="SET_SHARED",O=function(e,t){switch(t.type){case"SET_SHARED":return localStorage.setItem("shared",JSON.stringify(t.value)),f({},e,{display:f({},e.display,{modal:""}),shared:t.value});case"SET_AVATAR":return f({},e,{shared:f({},e.shared,{avatar:t.value})});case"SET_EMAIL":return f({},e,{shared:f({},e.shared,{email:t.value})});case"SET_FULLNAME":return f({},e,{shared:f({},e.shared,{fullName:t.value})});case"SET_MODAL":return f({},e,{display:f({},e.display,{modal:t.value})});case"WARNING_MESSAGE":return f({},e,{shared:f({},e.shared,{warningMessage:t.value})});case"LOGGED_IN":return f({},e,{shared:f({},e.shared,{loggedIn:t.value,warningMessage:""})});default:return e}},j=function(){return n.a.createElement("footer",null,"Footer")},N=a(57),S=a(7),P=a.n(S),C=function(){var e=Object(p.a)(m.a.mark((function e(t){var a,r,n,o,l,c,i,s,u,p;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=";base64,",-1!==t.indexOf(a)){e.next=7;break}return r=t.split(","),n=r[0].split(":")[1],o=r[1],e.abrupt("return",new Blob([o],{type:n}));case 7:for(l=t.split(a),c=l[0].split(":")[1],i=window.atob(l[1]),s=i.length,u=new Uint8Array(s),p=0;p<s;++p)u[p]=i.charCodeAt(p);return e.abrupt("return",new Blob([u],{type:c}));case 16:return e.prev=16,e.t0=e.catch(0),e.abrupt("return",e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(p.a)(m.a.mark((function e(t,a,r){var n,o,l,c,i,s,u,p,d,v;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t,(o=document.createElement("canvas")).width=a,o.height=a,(l=o.getContext("2d")).imageSmoothingEnabled=!0,c=n.width,i=n.height,s=0,c>i&&c>a?(c*=a/i,i=a,"ll"===(u=r||"lc")&&(s=0),"lc"===u&&(s=-(c-a)/2),"lr"===u&&(s=-(c-a)),l.drawImage(n,s,0,c,i)):i>a&&(i*=a/c,c=a,"pt"===(p=r||"pc")&&(s=0),"pc"===p&&(s=-(i-a)/2),"pb"===p&&(s=-(i-a)),l.drawImage(n,0,s,c,i)),d=o.toDataURL("image/jpeg"),e.next=14,C(d);case 14:return v=e.sent,e.abrupt("return",v);case 18:return e.prev=18,e.t0=e.catch(0),e.abrupt("return",e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t,a,r){return e.apply(this,arguments)}}(),T=function(){var e=Object(p.a)(m.a.mark((function e(t,a,r,n,o){var l,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{body:JSON.stringify({category:a,jwtToken:localStorage.getItem("jwtToken"),previewId:r,thumbnailId:n,zoomId:o}),headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"});case 3:return l=e.sent,e.next=6,l.json();case 6:if(c=e.sent,200!==l.status){e.next=9;break}return e.abrupt("return",c);case 9:throw Error;case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,a,r,n,o){return e.apply(this,arguments)}}(),I=function(){var e=Object(p.a)(m.a.mark((function e(t){var a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{body:JSON.stringify({jwtToken:localStorage.getItem("jwtToken")}),headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"});case 3:return a=e.sent,e.next=6,a.json();case 6:if(r=e.sent,200!==a.status){e.next=9;break}return e.abrupt("return",r.signedUrl);case 9:throw Error;case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(p.a)(m.a.mark((function e(t,a){var r,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{body:a,headers:{Accept:"application/json","Content-Type":"image/jpeg"},method:"PUT"});case 3:if(200!==(r=e.sent).status){e.next=7;break}return n="".concat(r.url.split("/")[4],"/").concat(r.url.split("/")[5].split("?")[0]),e.abrupt("return",n);case 7:throw Error;case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}(),M=function(e){return n.a.createElement(n.a.Fragment,null,e.error&&n.a.createElement(N.a,{appear:!!e.error,classNames:"error",in:!!e.error,timeout:400},n.a.createElement("small",{className:"error"},e.error)))};function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function U(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var B=function(){var e=Object(r.useRef)(null),t=Object(r.useContext)(w).global,a=Object(r.useContext)(b).dispatch,o=Object(r.useState)({category:"",categoryError:"",imageFileError:"",imageUrl:"",imageUrlError:"",loading:!1,orientation:"",originalImage:new Image,positionId:"",showResizer:!1}),l=Object(c.a)(o,2),s=l[0],u=l[1],v=s.category,f=s.categoryError,g=s.imageFileError,E=s.imageUrl,h=s.imageUrlError,x=s.loading,O=s.orientation,j=s.originalImage,N=s.positionId,S=s.showResizer,C=function(e){e.persist();var t=e.target,a=t.id,r=t.value;u((function(e){var t;return U({},e,(t={},Object(d.a)(t,a,r),Object(d.a)(t,"categoryError",""),t))})),"imageUrl"===a&&D(a,r)},D=function(e,t){if("imageUrl"===e)return/\.(jpg|jpeg|gif|png)/.test(t)?(u((function(e){return U({},e,{imageUrlError:""})})),G(t),!0):(u((function(e){return U({},e,{imageUrlError:"This is not an image url"})})),!1)},B=function(t){u((function(e){return U({},e,{originalImage:t})}));var a=e.current?e.current.getContext("2d"):null;if(a){a.imageSmoothingEnabled=!0;var r,n=t.width,o=t.height;n>o&&n>320?(n*=320/o,o=320,r=(n-320)/2,a.drawImage(t,-r,0,n,o),u((function(e){return U({},e,{orientation:"landscape"})}))):o>320&&(o*=320/n,n=320,r=(o-320)/2,a.drawImage(t,0,-r,n,o),u((function(e){return U({},e,{orientation:"portrait"})})))}},G=function(e){u((function(e){return U({},e,{loading:!0})}));var t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=1e3,t.responseType="blob",t.onload=function(){var e=new FileReader;e.onload=function(){var e=new Image;e.onload=Object(p.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.width>1e3&&e.height>1e3?(u((function(e){return U({},e,{loading:!1,showResizer:!0})})),B(e)):u((function(e){return U({},e,{imageUrl:"",imageUrlError:"Image is too small",loading:!1})}));case 1:case"end":return t.stop()}}),t)}))),e.src=URL.createObjectURL(t.response)},e&&e.readAsDataURL(t.response)},t.onerror=function(){u((function(e){return U({},e,{imageUrlError:"Image cant be loaded",loading:!1})}))},t.ontimeout=function(){u((function(e){return U({},e,{imageUrlError:"Image cant be loaded",loading:!1})}))},t.send()},R=function(t){var a=j,r=t.currentTarget.id,n=e.current?e.current.getContext("2d"):null;if(n){n.imageSmoothingEnabled=!0;var o=a.width,l=a.height,c=0;o>l&&o>320?(o*=320/l,l=320,"ll"===r&&(c=0),"lc"===r&&(c=-(o-320)/2),"lr"===r&&(c=-(o-320)),n.drawImage(a,c,0,o,l),u((function(e){return U({},e,{orientation:"landscape",positionId:r})}))):l>320&&(l*=320/o,o=320,"pt"===r&&(c=0),"pc"===r&&(c=-(l-320)/2),"pb"===r&&(c=-(l-320)),n.drawImage(a,0,c,o,l),u((function(e){return U({},e,{orientation:"portrait",positionId:r})})))}},L=function(){var e=Object(p.a)(m.a.mark((function e(r){var n,o,l,i,s,d,f,g,b,E;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r.preventDefault(),!v){e.next=26;break}return n="".concat(t.env.apiUrl,"/upload/signed-url"),o="".concat(t.env.apiUrl,"/my/add-photo"),u((function(e){return U({},e,{loading:!0})})),l=function(){var e=Object(p.a)(m.a.mark((function e(){var t,a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(n);case 2:return t=e.sent,e.next=5,k(j,180,N);case 5:if(a=e.sent,!t||!a){e.next=13;break}return e.next=9,A(t,a);case 9:return r=e.sent,e.abrupt("return",r);case 13:throw M;case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=Object(p.a)(m.a.mark((function e(){var t,a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(n);case 2:return t=e.sent,e.next=5,k(j,530,N);case 5:if(a=e.sent,!t||!a){e.next=13;break}return e.next=9,A(t,a);case 9:return r=e.sent,e.abrupt("return",r);case 13:throw M;case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(p.a)(m.a.mark((function e(){var t,a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(n);case 2:return t=e.sent,e.next=5,k(j,1e3,N);case 5:if(a=e.sent,!t||!a){e.next=13;break}return e.next=9,A(t,a);case 9:return r=e.sent,e.abrupt("return",r);case 13:throw M;case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=11,Promise.all([l(),i(),s()]);case 11:if(d=e.sent,f=Object(c.a)(d,3),g=f[0],b=f[1],E=f[2],!(g&&b&&E)){e.next=23;break}return e.next=19,T(o,v,b,g,E);case 19:e.sent&&(u((function(e){return U({},e,{loading:!1})})),a({type:y,value:""})),e.next=24;break;case 23:alert("err");case 24:e.next=27;break;case 26:u((function(e){return U({},e,{categoryError:"Please select a category"})}));case 27:e.next=31;break;case 29:e.prev=29,e.t0=e.catch(0);case 31:case"end":return e.stop()}}),e,null,[[0,29]])})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:"add-photo"},n.a.createElement("h2",null,"Add Photo"),n.a.createElement("h3",null,"Minimum photo size of 1000x1000px"),n.a.createElement("form",{onSubmit:L},!S&&n.a.createElement(n.a.Fragment,null,n.a.createElement("label",null,n.a.createElement("div",{className:"add-photo--button"},"Select photo to upload"),n.a.createElement("input",{accept:"image/png, image/jpeg",id:"photo",name:"photo",onChange:function(e){if(e.currentTarget.files){u((function(e){return U({},e,{loading:!0})}));var t=e.currentTarget.files[0],a=new FileReader;a.onload=function(e){var a=new Image;a.onload=function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.width>1e3&&a.height>1e3?(u((function(e){return U({},e,{loading:!1,showResizer:!0})})),B(a)):(u((function(e){return U({},e,{loading:!1})})),u((function(e){return U({},e,{imageFileError:"Image is too small",loading:!1})})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.src=URL.createObjectURL(t)},a&&a.readAsDataURL(t)}},type:"file"})),n.a.createElement(M,{error:g}),n.a.createElement("span",{className:"add-photo--hr-span"},n.a.createElement("hr",{className:"add-photo--hr"}),n.a.createElement("div",{className:"add-photo--or"},"Or")),n.a.createElement("label",{className:"add-photo--paste-label"},"Paste image url"),n.a.createElement("input",{id:"imageUrl",onChange:C,onBlur:function(){u((function(e){return U({},e,{imageUrl:"",imageUrlError:"",loading:!1})}))},placeholder:"http://www.",type:"text",value:E}),n.a.createElement(M,{error:h})),S&&n.a.createElement("span",{className:"add-photo--preview"},n.a.createElement("div",null,n.a.createElement("label",null,"Position"),n.a.createElement("canvas",{ref:e,width:320,height:320,className:"add-photo--canvas"}),n.a.createElement("div",{className:"add-photo--close",onClick:function(){u((function(e){return U({},e,{showResizer:!1})}))}}),"landscape"===O&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"add-photo--base add-photo--landscape-left",onClick:R,id:"ll"}),n.a.createElement("div",{className:"add-photo--base add-photo--landscape-center",onClick:R,id:"lc"}),n.a.createElement("div",{className:"add-photo--base add-photo--landscape-right",onClick:R,id:"lr"})),"portrait"===O&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"add-photo--base add-photo--portrait-top",onClick:R,id:"pt"}),n.a.createElement("div",{className:"add-photo--base add-photo--portrait-center",onClick:R,id:"pc"}),n.a.createElement("div",{className:"add-photo--base add-photo--portrait-bottom",onClick:R,id:"pb"}))),n.a.createElement("select",{id:"category",value:v,onChange:C,className:"add-photo--category"},n.a.createElement("option",{key:"Select",value:""},"Select..."),n.a.createElement("option",{key:"Double Deckers",value:"Double Decker"},"Double Decker"),n.a.createElement("option",{key:"Single Deckers",value:"Single Decker"},"Single Decker"),n.a.createElement("option",{key:"Midis",value:"Midi"},"Midi"),n.a.createElement("option",{key:"Minis",value:"Mini"},"Mini"),n.a.createElement("option",{key:"Coaches",value:"Coaches"},"Coaches")),n.a.createElement(M,{error:f}),n.a.createElement("button",{color:"primary"},x?n.a.createElement("img",{src:P.a,alt:"loading",className:"loading"}):"Upload Photo"),n.a.createElement("div",{className:"join--terms"},"By uploading a photo, you agree to our",n.a.createElement(i.b,{to:{pathname:"/terms"}}," Terms of Service")," and",n.a.createElement(i.b,{to:{pathname:"/terms"}}," Privacy Policy")))))};function G(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function R(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?G(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):G(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var L=function(){var e=Object(r.useContext)(w).global,t=window.location.pathname.substr(1),a=Object(r.useState)({followers:[]}),o=Object(c.a)(a,2),l=o[0],i=o[1],s=l.followers;Object(r.useEffect)((function(){function a(){return(a=Object(p.a)(m.a.mark((function a(){var r,n;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("".concat(e.env.apiUrl,"/user/followers"),{body:JSON.stringify({jwtToken:localStorage.getItem("jwtToken"),username:t}),headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"});case 2:return r=a.sent,a.next=5,r.json();case 5:n=a.sent,200===r.status&&i((function(e){return R({},e,{followers:n.followers})}));case 7:case"end":return a.stop()}}),a)})))).apply(this,arguments)}t&&function(){a.apply(this,arguments)}()}),[t,e.env.apiUrl]);var u=function(e){window.location.href="/".concat(e)};return n.a.createElement("div",{className:"followers"},n.a.createElement("h2",null,"Followers"),s.map((function(t,a){return n.a.createElement("div",{className:"followers--grid",key:a},n.a.createElement("div",{onClick:function(){return u(t.username)}},t.avatarId&&n.a.createElement("img",{src:e.env.imgUrl+t.avatarId,className:"followers--image",alt:"Avatar"}),!t.avatarId&&n.a.createElement("img",{src:(r=t.fullName,e.env.imgUrl+"initials/"+r.charAt(0).toLowerCase()+".png"),className:"followers--image",alt:"Avatar"})),n.a.createElement("div",{onClick:function(){return u(t.username)}},n.a.createElement("p",{className:"followers--name"},t.fullName),n.a.createElement("p",{className:"followers--username"},"@",t.username," ")),n.a.createElement("div",{className:"followers--follow"},!t.imFollowing&&"+ Follow",t.imFollowing&&"- Unfollow"));var r})))};function F(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function K(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?F(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var H=function(){var e=Object(r.useContext)(w).global,t=window.location.pathname.substr(1),a=Object(r.useState)({following:[]}),o=Object(c.a)(a,2),l=o[0],i=o[1],s=l.following;Object(r.useEffect)((function(){function a(){return(a=Object(p.a)(m.a.mark((function a(){var r,n;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("".concat(e.env.apiUrl,"/user/following"),{body:JSON.stringify({jwtToken:localStorage.getItem("jwtToken"),username:t}),headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"});case 2:return r=a.sent,a.next=5,r.json();case 5:n=a.sent,200===r.status&&i((function(e){return K({},e,{following:n.following})}));case 7:case"end":return a.stop()}}),a)})))).apply(this,arguments)}t&&function(){a.apply(this,arguments)}()}),[t,e.env.apiUrl]);var u=function(e){window.location.href="/".concat(e)};return n.a.createElement("div",{className:"followers"},n.a.createElement("h2",null,"Following"),s.map((function(t,a){return n.a.createElement("div",{className:"followers--grid",key:a},n.a.createElement("div",{onClick:function(){return u(t.username)}},t.avatarId&&n.a.createElement("img",{src:e.env.imgUrl+t.avatarId,className:"followers--image",alt:"Avatar"}),!t.avatarId&&n.a.createElement("img",{src:(r=t.fullName,e.env.imgUrl+"initials/"+r.charAt(0).toLowerCase()+".png"),className:"followers--image",alt:"Avatar"})),n.a.createElement("div",{onClick:function(){return u(t.username)}},n.a.createElement("p",{className:"followers--name"},t.fullName),n.a.createElement("p",{className:"followers--username"},"@",t.username," ")),n.a.createElement("div",{className:"followers--follow"},!t.imFollowing&&"+ Follow",t.imFollowing&&"- Unfollow"));var r})))};function z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function J(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?z(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):z(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var V=function(){var e=Object(r.useContext)(w).global,t=Object(r.useContext)(b).dispatch,a=Object(r.useState)({apiError:"",email:"",emailError:"",loading:!1,password:"",passwordError:""}),o=Object(c.a)(a,2),l=o[0],i=o[1],s=l.apiError,u=l.email,v=l.emailError,f=l.passwordError,g=l.loading,E=function(){var a=Object(p.a)(m.a.mark((function a(r){var n,o;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!r.email){a.next=9;break}return i((function(e){return J({},e,{loading:!0})})),a.next=4,fetch("".concat(e.env.apiUrl,"/login/reset-password"),{body:JSON.stringify({email:r.email}),headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"});case 4:return n=a.sent,a.next=7,n.json();case 7:o=a.sent,200===n.status?(t({type:y,value:"resetsent"}),i((function(e){return J({},e,{loading:!1})}))):i((function(e){return J({},e,{apiError:o.error})}));case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),h=function(e){if("email"===e)return/\S+@\S+\.\S+/.test(u)?(i((function(e){return J({},e,{emailError:""})})),!0):(i((function(e){return J({},e,{emailError:"A valid email address is required."})})),!1)};return n.a.createElement("div",{className:"forgot"},n.a.createElement("h2",null,"Forgot password"),n.a.createElement("h3",null,"We will send you an email to reset your password."),n.a.createElement("form",{onSubmit:function(e){e.preventDefault(),h("email")&&E({email:u})}},s&&n.a.createElement("div",{className:"error--api"},s),n.a.createElement("label",null,"Email"),n.a.createElement("input",{className:v&&"forgot--error",id:"email",onBlur:function(e){h(e.target.id)},onChange:function(e){e.persist();var t=e.target,a=t.id,r=t.value;"email"===a&&v&&h("email"),"password"===a&&f&&h("password"),i((function(e){return J({},e,Object(d.a)({},a,r))}))},placeholder:"Email address",type:"text",value:u}),n.a.createElement(M,{error:v}),n.a.createElement("small",{className:"forgot--right",onClick:function(){t({type:y,value:"login"})}},"Just Remebered?"),n.a.createElement(M,{error:f}),n.a.createElement("button",{color:"primary"},g?n.a.createElement("img",{src:P.a,alt:"loadingd",className:"loading"}):"Reset Password")))};function Z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function W(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Z(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Z(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Y=function(){var e=Object(r.useContext)(w).global,t=Object(r.useContext)(b).dispatch,a=Object(r.useState)({apiError:"",email:"",emailError:"",fullName:"",fullNameError:"",loading:!1,password:"",passwordError:""}),o=Object(c.a)(a,2),l=o[0],s=o[1],u=l.apiError,v=l.email,f=l.emailError,g=l.fullName,E=l.fullNameError,h=l.loading,y=l.password,O=l.passwordError,j=function(e){e.persist();var t=e.target,a=t.id,r=t.value;"email"===a&&f&&C("email"),"fullName"===a&&E&&C("fullName"),"password"===a&&O&&C("password"),s((function(e){return W({},e,Object(d.a)({},a,r))}))},N=function(){var a=Object(p.a)(m.a.mark((function a(r){var n,o;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(r.fullName&&r.email&&r.password)){a.next=10;break}return s((function(e){return W({},e,{loading:!0})})),a.next=4,fetch("".concat(e.env.apiUrl,"/join"),{body:JSON.stringify({email:r.email,fullName:r.fullName,password:r.password}),headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"});case 4:return n=a.sent,a.next=7,n.json();case 7:o=a.sent,s((function(e){return W({},e,{loading:!1})})),200===n.status?(localStorage.setItem("jwtToken",o.jwtToken),t({type:x,value:o.shared}),window.location.href="/my/profile"):s((function(e){return W({},e,{apiError:o.error})}));case 10:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),S=function(e){C(e.target.id)},C=function(e){return"fullName"===e?/^.{2,}$/.test(g)?(s((function(e){return W({},e,{fullNameError:""})})),!0):(s((function(e){return W({},e,{fullNameError:"2 charectors or longer"})})),!1):"email"===e?/\S+@\S+\.\S+/.test(v)?(s((function(e){return W({},e,{emailError:""})})),!0):(s((function(e){return W({},e,{emailError:"A valid email address is required."})})),!1):"password"===e?/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})/.test(y)?(s((function(e){return W({},e,{passwordError:""})})),!0):(s((function(e){return W({},e,{passwordError:"Your password must contain at least eight letters, and include a number and an uppercase letter"})})),!1):void 0};return n.a.createElement("div",{className:"join"},n.a.createElement("h2",null,"JOIN"),n.a.createElement("h3",null,"some subheading"),n.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=C("fullName"),a=C("email"),r=C("password");t&&a&&r&&N({email:l.email,fullName:l.fullName,password:l.password})}},u&&n.a.createElement("div",{className:"error--api"},u),n.a.createElement("label",null,"Name"),n.a.createElement("input",{className:E&&"join--error",id:"fullName",maxLength:70,onBlur:S,onChange:j,placeholder:"Full name",type:"text",value:g}),n.a.createElement(M,{error:E}),n.a.createElement("label",null,"Email"),n.a.createElement("input",{className:f&&"join--error",id:"email",maxLength:320,onBlur:S,onChange:j,placeholder:"Email address",type:"text",value:v}),n.a.createElement(M,{error:f}),n.a.createElement("label",null,"Password"),n.a.createElement("input",{className:O&&"join--error",id:"password",maxLength:70,onBlur:S,onChange:j,placeholder:"Create a password",type:"password",value:y}),n.a.createElement(M,{error:O}),n.a.createElement("button",{color:"primary"},h?n.a.createElement("img",{src:P.a,alt:"loading",className:"loading"}):"Join Now"),n.a.createElement("div",{className:"join--terms"},"By joining, you agree to our",n.a.createElement(i.b,{to:{pathname:"/terms"}}," Terms of Service")," and",n.a.createElement(i.b,{to:{pathname:"/terms"}}," Privacy Policy"))))};function Q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function X(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Q(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Q(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var $=function(){var e=Object(r.useContext)(w).global,t=Object(r.useContext)(b).dispatch,a=Object(r.useState)({apiError:"",email:"",emailError:"",formattedToken:"",formattedTokenError:"",loading:!1,password:"",passwordError:"",twoFactor:!1}),o=Object(c.a)(a,2),l=o[0],i=o[1],s=l.apiError,u=l.email,v=l.emailError,f=l.formattedToken,g=l.formattedTokenError,E=l.loading,h=l.password,O=l.passwordError,j=l.twoFactor,N=function(e){e.persist();var t=e.target,a=t.id,r=t.value;"email"===a&&l.emailError&&k("email"),"password"===a&&l.passwordError&&k("password"),i((function(e){return X({},e,Object(d.a)({},a,r))}))},S=function(){var a=Object(p.a)(m.a.mark((function a(r){var n,o;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!r.email||!r.password){a.next=9;break}return i((function(e){return X({},e,{loading:!0})})),a.next=4,fetch("".concat(e.env.apiUrl,"/login"),{body:JSON.stringify({email:r.email,formattedToken:r.formattedToken,password:r.password}),headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"});case 4:return n=a.sent,a.next=7,n.json();case 7:o=a.sent,200===n.status?(o.twoFactor||(localStorage.setItem("jwtToken",o.jwtToken),t({type:x,value:o.shared}),i((function(e){return X({},e,{loading:!1})}))),o.twoFactor&&i((function(e){return X({},e,{loading:!1,twoFactor:!0})}))):i((function(e){return X({},e,{apiError:o.error,loading:!1})}));case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),C=function(e){k(e.target.id)},k=function(e){return"email"===e?/\S+@\S+\.\S+/.test(u)?(i((function(e){return X({},e,{emailError:""})})),!0):(i((function(e){return X({},e,{emailError:"A valid email address is required."})})),!1):"password"===e?/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})/.test(h)?(i((function(e){return X({},e,{passwordError:""})})),!0):(i((function(e){return X({},e,{passwordError:"Your password must contain at least eight letters, and include a number and an uppercase letter"})})),!1):"formattedToken"===e?0===f.length||6===f.length?(i((function(e){return X({},e,{formattedTokenError:""})})),!0):(i((function(e){return X({},e,{formattedTokenError:"Must be six charectors"})})),!1):void 0};return n.a.createElement("div",{className:"login"},n.a.createElement("h2",null,"Login"),n.a.createElement("h3",null,"welcome back"),n.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=k("email"),a=k("password"),r=k("formattedToken");t&&a&&r&&S({email:u,password:h,formattedToken:f})}},s&&n.a.createElement("div",{className:"error--api"},s),n.a.createElement("label",null,"Email"),n.a.createElement("input",{autoFocus:!0,className:v&&"login--error",id:"email",onBlur:C,onChange:N,placeholder:"Email address",type:"text",value:u}),n.a.createElement(M,{error:v}),n.a.createElement("label",null,"Password"),n.a.createElement("input",{className:O&&"login--error",id:"password",onBlur:C,onChange:N,placeholder:"Create a password",type:"password",value:h}),n.a.createElement("small",{className:"login--right",onClick:function(){t({type:y,value:"forgot"})}},"Forgotten Password?"),n.a.createElement(M,{error:O}),j&&n.a.createElement("span",null,n.a.createElement("label",null,"Two factor authentication"),n.a.createElement("input",{autoFocus:!0,id:"formattedToken",onBlur:C,onChange:N,placeholder:"Six digit code",type:"password",value:f}),n.a.createElement(M,{error:g})),n.a.createElement("button",{color:"primary"},E?n.a.createElement("img",{src:P.a,alt:"loadingd",className:"loading"}):"Login")))};function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ee=function(){var e=Object(r.useContext)(w).global,t=Object(r.useContext)(b).dispatch,a=Object(r.useState)({apiError:"",email:"",emailError:"",loading:!1,password:"",passwordError:""}),o=Object(c.a)(a,2),l=o[0],i=o[1],s=l.apiError,u=l.password,v=l.passwordError,f=l.loading,g=function(){var a=Object(p.a)(m.a.mark((function a(r){var n,o,l;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!r.password){a.next=10;break}return i((function(e){return q({},e,{loading:!0})})),n=localStorage.getItem("resetCode"),a.next=5,fetch("".concat(e.env.apiUrl,"/login/confirm-password"),{body:JSON.stringify({newPassword:r.password,resetCode:n}),headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"});case 5:return o=a.sent,a.next=8,o.json();case 8:l=a.sent,200===o.status?(localStorage.removeItem("resetCode"),localStorage.setItem("jwtToken",l.jwtToken),t({type:x,value:l.shared}),t({type:y,value:""}),i((function(e){return q({},e,{loading:!1})})),window.location.href="/my/profile"):i((function(e){return q({},e,{apiError:l.error})}));case 10:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),E=function(e){if("password"===e)return/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})/.test(u)?(i((function(e){return q({},e,{passwordError:""})})),!0):(i((function(e){return q({},e,{passwordError:"Your password must contain at least eight letters, and include a number and an uppercase letter"})})),!1)};return n.a.createElement("div",{className:"login"},n.a.createElement("h2",null,"Reset password"),n.a.createElement("h3",null,"enter a new password"),n.a.createElement("form",{onSubmit:function(e){e.preventDefault(),E("password")&&g({password:l.password})}},s&&n.a.createElement("div",{className:"error--api"},s),n.a.createElement("label",null,"Password"),n.a.createElement("input",{className:v&&"login--error",id:"password",onBlur:function(e){E(e.target.id)},onChange:function(e){e.persist();var t=e.target,a=t.id,r=t.value;"password"===a&&l.passwordError&&E("password"),i((function(e){return q({},e,Object(d.a)({},a,r))}))},placeholder:"Create a password",type:"password",value:u}),n.a.createElement(M,{error:v}),n.a.createElement("button",{color:"primary"},f?n.a.createElement("img",{src:P.a,alt:"loadingd",className:"loading"}):"Save")))},te=function(){var e=Object(r.useContext)(b).dispatch;return setTimeout((function(){e({type:y,value:""})}),3e3),n.a.createElement("div",{className:"forgot"},n.a.createElement("h2",null,"Sent"),n.a.createElement("h3",null,"We will send a password reset link if this email is associated with an account."))},ae=function(e){var t=Object(r.useContext)(b).dispatch,a=function(e){e.stopPropagation()},o="following"===e.screen?n.a.createElement("div",{className:"modal--modalCard",onClick:a},n.a.createElement(H,null)):"followers"===e.screen?n.a.createElement("div",{className:"modal--modalCard",onClick:a},n.a.createElement(L,null)):"join"===e.screen?n.a.createElement("div",{className:"modal--modalCard",onClick:a},n.a.createElement(Y,null)):"login"===e.screen?n.a.createElement("div",{className:"modal--modalCard",onClick:a},n.a.createElement($,null)):"forgot"===e.screen?n.a.createElement("div",{className:"modal--modalCard",onClick:a},n.a.createElement(V,null)):"resetsent"===e.screen?n.a.createElement("div",{className:"modal--modalCard",onClick:a},n.a.createElement(te,null)):"resetpassword"===e.screen?n.a.createElement("div",{className:"modal--modalCard",onClick:a},n.a.createElement(ee,null)):"photo"===e.screen?n.a.createElement("div",{className:"modal--modalCard",onClick:a},n.a.createElement(B,null)):void 0;return n.a.createElement(N.a,{classNames:"modal",in:!!e.screen,timeout:300,unmountOnExit:!0},n.a.createElement("div",{className:"modal",onClick:function(){t({type:y,value:""})}},o))},re=function(e){var t=e.location?e.location.pathname.split("/")[2]:"";return n.a.createElement("div",null,n.a.createElement("aside",{className:"side-nav"},n.a.createElement(i.b,{to:{pathname:"/my/profile"}},n.a.createElement("div",{className:"side-nav--item ".concat("profile"===t&&"side-nav--selected")},"Edit Profile")),n.a.createElement(i.b,{to:{pathname:"/my/preferences"}},n.a.createElement("div",{className:"side-nav--item ".concat("preferences"===t&&"side-nav--selected")},"Preferences")),n.a.createElement(i.b,{to:{pathname:"/my/password"}},n.a.createElement("div",{className:"side-nav--item ".concat("password"===t&&"side-nav--selected")},"Password")),n.a.createElement(i.b,{to:{pathname:"/my/verification"}},n.a.createElement("div",{className:"side-nav--item ".concat("verification"===t&&"side-nav--selected")},"Verification"))))};function ne(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function oe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ne(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ne(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var le=Object(s.f)((function(e){var t=Object(r.useContext)(w).global,a=Object(r.useContext)(b).dispatch,o=e.fullName.split(" ")[0],l=o.charAt(0).toLowerCase(),s=e.avatar?t.env.imgUrl+e.avatar:t.env.imgUrl+"initials/".concat(l,".png"),u=Object(r.useState)({dropDownStatus:!1,search:""}),m=Object(c.a)(u,2),p=m[0],v=m[1],f=p.search,g=function(){a({type:y,value:"login"})},E=function(){a({type:y,value:"join"})},h=function(){localStorage.clear(),a({type:"LOGGED_IN",value:!1})},x=function(){v((function(e){return oe({},e,{dropDownStatus:!0})}))};window.onclick=function(e){"dropdown"!==e.target.id&&v((function(e){return oe({},e,{dropDownStatus:!1})}))};var O=e.loggedIn?n.a.createElement("div",{className:"topnav--buttons",onClick:x,id:"dropdown"},n.a.createElement("div",{className:"topnav--avatar",id:"dropdown"},n.a.createElement("img",{src:s,alt:"your first name initial",id:"dropdown"}),n.a.createElement("div",{id:"dropdown"},o),n.a.createElement("div",{className:"topnav--dropdown ".concat(!0===p.dropDownStatus&&"topnav--dropdownon")},n.a.createElement(i.b,{to:{pathname:"/add/photos"}},n.a.createElement("div",{className:"topnav--item topnav--add-photos"},"Add photos")),n.a.createElement(i.b,{to:{pathname:"/".concat(t.shared.username)}},n.a.createElement("div",{className:"topnav--item topnav--profile"},"Profile")),n.a.createElement("hr",null),n.a.createElement(i.b,{to:{pathname:"/my/profile"}},n.a.createElement("div",{className:"topnav--item"},"Settings")),n.a.createElement("div",{className:"topnav--item",onClick:h},"Logout")))):e.loggedIn?void 0:n.a.createElement("div",{className:"topnav--buttons"},n.a.createElement("button",{color:"primary",onClick:E},"Join Dicky"),n.a.createElement("button",{color:"secondary",onClick:g},"Login"));return n.a.createElement("nav",{className:"topnav"},n.a.createElement("div",{className:"topnav--container"},n.a.createElement("div",{className:"topnav--logo"},n.a.createElement(i.b,{to:"/"},"Logo")),n.a.createElement("div",{className:"topnav--search"},n.a.createElement("form",{className:"topnav--search-form",onSubmit:function(t){t.preventDefault(),e.history.push("/search/".concat(f))}},n.a.createElement("input",{type:"text",className:"topnav--search-input",placeholder:"Search for names",onChange:function(e){e.persist();var t=e.target,a=t.id,r=t.value;v((function(e){return oe({},e,Object(d.a)({},a,r))}))},id:"search"}))),O))})),ce=a(58),ie=function(e){var t,a=Object(r.useContext)(w).global,o=Object(r.useContext)(b).dispatch,l=function(){var e=Object(p.a)(m.a.mark((function e(){var t,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o({type:"WARNING_MESSAGE",value:"sent"}),e.next=3,fetch("".concat(a.env.apiUrl,"/join/resend-email"),{body:JSON.stringify({jwtToken:localStorage.getItem("jwtToken")}),headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"});case 3:return t=e.sent,e.next=6,t.json();case 6:r=e.sent,200===t.status?(localStorage.setItem("jwtToken",r.jwtToken),o({type:x,value:r.shared}),setTimeout((function(){o({type:"WARNING_MESSAGE",value:"verify"})}),2e3)):console.log(r.error);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c="verify"===(t=e.message)?n.a.createElement("div",null,"Please confirm your email address. If you haven't received anything you can"," ",n.a.createElement("b",null,n.a.createElement(i.b,{to:{pathname:"/my/profile"}},"update your email"))," "," or ",n.a.createElement("b",{onClick:l},"resend confirmation"),"."):"offline"===t?n.a.createElement("div",null,"offline"):"sent"===t?n.a.createElement("div",null,"Email sent!"):void 0;return n.a.createElement(N.a,{in:!!e.message,timeout:300,unmountOnExit:!0,classNames:"warning"},n.a.createElement("div",{className:"warning"},n.a.createElement(ce.a,null,n.a.createElement(N.a,{key:e.message||"",timeout:300,classNames:"warning-text"},n.a.createElement("div",{className:"warning-text"},c)))))},se=function(e){var t=Object(r.useContext)(w).global,a=Object(r.useContext)(b).dispatch;Object(r.useEffect)((function(){var r=function(){var e=Object(p.a)(m.a.mark((function e(r){var n,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=8;break}return e.next=3,fetch("".concat(t.env.apiUrl,"/my/location"),{body:JSON.stringify({jwtToken:localStorage.getItem("jwtToken"),location:r}),headers:{Accept:"application/json","Content-Type":"application/json"},method:"PUT"});case 3:return n=e.sent,e.next=6,n.json();case 6:o=e.sent,200===n.status?(localStorage.setItem("jwtToken",o.jwtToken),a({type:x,value:o.shared})):(localStorage.clear(),window.location.href="/");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();e.location&&localStorage.getItem("jwtToken")&&r(e.location.pathname)}),[a,t.env.apiUrl,e.location]);var o=!1,l=e.location?e.location.pathname.split("/")[1]:"";!["my"].includes(l)||t.shared.loggedIn&&localStorage.getItem("jwtToken")?o=!0:window.location.href="/";var c=["my"].includes(l)?n.a.createElement("div",{className:"layout--sidenav"},n.a.createElement(re,{location:e.location}),n.a.createElement("div",null,e.children)):n.a.createElement("div",null,e.children);return n.a.createElement("div",{className:"layout"},o&&n.a.createElement(n.a.Fragment,null,n.a.createElement("header",null,n.a.createElement(ae,{screen:t.display.modal}),n.a.createElement(ie,{message:t.shared.warningMessage}),n.a.createElement(le,{loggedIn:t.shared.loggedIn,fullName:t.shared.fullName,avatar:t.shared.avatarId})),n.a.createElement("main",{className:"layout--main"},c)),n.a.createElement(j,null))},ue=function(){var e=Object(p.a)(m.a.mark((function e(t){var a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"GET"});case 3:return a=e.sent,e.next=6,a.json();case 6:if(r=e.sent,200!==a.status){e.next=9;break}return e.abrupt("return",r);case 9:throw Error;case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();function me(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function pe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?me(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):me(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var de=function(e){var t=Object(r.useRef)(null),a=Object(r.useContext)(w).global,o=(Object(r.useContext)(b).dispatch,e.match.params.id),l=Object(r.useState)({category:"",mouseOver:!1,zoomId:"",zoomOn:!1,zoomPositionX:0,zoomPositionY:0}),i=Object(c.a)(l,2),s=i[0],u=i[1],d=(s.category,s.zoomId),v=s.zoomOn,f=s.mouseOver,g=s.zoomPositionX,E=s.zoomPositionY;Object(r.useEffect)((function(){(function(){var e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue("".concat(a.env.apiUrl,"/photos/detail?id=").concat(o));case 2:t=e.sent,u((function(e){return pe({},e,{category:t.category,zoomId:t.zoomId})}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);return n.a.createElement("div",{className:"outer"},n.a.createElement("div",{className:"bus"},n.a.createElement("div",null,d&&n.a.createElement("div",{ref:t,style:function(){var e;t&&t.current&&(e=t.current.clientWidth);return e&&2*e,{backgroundImage:"url(".concat("".concat(a.env.imgUrl).concat(d),")"),backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",paddingBottom:"100%"}}(),onClick:function(e){e.persist(),u((function(t){return pe({},t,{zoomOn:!v,zoomPositionX:e.nativeEvent.offsetX,zoomPositionY:e.nativeEvent.offsetY})}))},onMouseEnter:function(){u((function(e){return pe({},e,{mouseOver:!0})}))},onMouseLeave:function(){var e=!1;e=!!v,u((function(t){return pe({},t,{mouseOver:e})}))},onMouseMove:function(e){e.persist(),v&&u((function(t){return pe({},t,{zoomPositionX:e.nativeEvent.offsetX,zoomPositionY:e.nativeEvent.offsetY})}))},className:v&&f?"bus--image bus--over-on":"bus--image bus--over-off"},n.a.createElement("div",{className:v&&f?"bus--magnifier-on":"bus--magnifier-off",style:function(e,r){var n;if(t&&t.current&&(n=t.current.clientWidth),n){var o=1.5*n;return d&&(r<=125&&(r=125),r>=n-125&&(r=n-125),e<=125&&(e=125),e>=n-125&&(e=n-125)),{backgroundImage:"url(".concat("".concat(a.env.imgUrl).concat(d),")"),backgroundPosition:" ".concat(0-1.5*e+125,"px ").concat(0-1.5*r+125,"px"),backgroundRepeat:"no-repeat",backgroundSize:"".concat(o,"px ").concat(o,"px"),left:"".concat(e-125,"px"),top:"".concat(r-125,"px")}}}(g,E)}))),n.a.createElement("div",null)))};function ve(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function fe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ve(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ve(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ge=function(e){var t=Object(r.useContext)(w).global,a=Object(r.useContext)(b).dispatch,o=e.match.params.confirmationCode,l=Object(r.useState)({apiError:""}),i=Object(c.a)(l,2),s=i[0],u=i[1],d=s.apiError;return Object(r.useEffect)((function(){function r(){return(r=Object(p.a)(m.a.mark((function r(){var n,l;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch("".concat(t.env.apiUrl,"/join/confirm-email"),{body:JSON.stringify({confirmationCode:o}),headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"});case 2:return n=r.sent,r.next=5,n.json();case 5:l=r.sent,200===n.status?(localStorage.setItem("jwtToken",l.jwtToken),localStorage.setItem("shared",JSON.stringify(l.shared)),a({type:x,value:l.shared}),e.history.push("/my/profile")):u((function(e){return fe({},e,{apiError:l.error})}));case 7:case"end":return r.stop()}}),r)})))).apply(this,arguments)}o&&function(){r.apply(this,arguments)}()}),[o,a,t.env.apiUrl,e.history]),n.a.createElement("div",{className:"page"},d&&n.a.createElement("div",{className:"error--api"},d))},be=a(28),Ee=a.n(be),he=a(29),we=a.n(he),ye=a(20),xe=a.n(ye),Oe=a(30),je=a.n(Oe),Ne=a(31),Se=a.n(Ne),Pe=a(32),Ce=a.n(Pe),ke=a(33),Te=a.n(ke);function Ie(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Ae(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ie(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ie(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Me=function(){var e=Object(r.useState)({index:0,showImage:xe.a,startSlide:0}),t=Object(c.a)(e,2),a=t[0],o=t[1],l=[xe.a,je.a,Se.a,Ce.a,Te.a];l.forEach((function(e){(new Image).src=e}));var i,s,u={backgroundImage:"url("+a.showImage+")"},m=function(e,t){return e===t?{backgroundColor:"rgba(255,255,255, 1)"}:{backgroundColor:"rgba(255,255,255, 0.4)"}};return Object(r.useEffect)((function(){var e=a.startSlide;e<4?e++:e=0,i=setTimeout((function(){o({index:e,showImage:l[e],startSlide:e})}),3e3)}),[a,o]),n.a.createElement("div",{className:"carousel"},n.a.createElement("div",{className:"carousel--decrement",onClick:function(){clearTimeout(i);var e=a.startSlide;0===e?e=4:e-=1,o(Ae({},a,{index:e,showImage:l[e],startSlide:e}))}},n.a.createElement("img",{src:Ee.a,className:"carousel--leftChevron",alt:"left"})),n.a.createElement("div",{className:"carousel--increment",onClick:function(){clearTimeout(i);var e=a.startSlide;e<4?e++:e=0,o(Ae({},a,{index:e,showImage:l[e],startSlide:e}))}},n.a.createElement("img",{src:we.a,className:"carousel--rightChevron",alt:"right"})),n.a.createElement("div",{className:"carousel--location"},n.a.createElement("div",{className:"carousel--container"},n.a.createElement("div",{className:"carousel--location-chip",style:m(a.index,0)}),n.a.createElement("div",{className:"carousel--location-chip",style:m(a.index,1)}),n.a.createElement("div",{className:"carousel--location-chip",style:m(a.index,2)}),n.a.createElement("div",{className:"carousel--location-chip",style:m(a.index,3)}),n.a.createElement("div",{className:"carousel--location-chip",style:m(a.index,4)}))),n.a.createElement(ce.a,null,n.a.createElement(N.a,{key:a.index||"",timeout:500,classNames:"carousel--slider"},n.a.createElement("div",{className:"carousel--slider",style:u},0===(s=a.index)?n.a.createElement("div",{className:"carousel--text-container"},n.a.createElement("h3",{className:"carousel--top-title"},"Stay on top of all the double decker pictures"),n.a.createElement("h2",{className:"carousel--main-title"},"Double Deckers")):1===s?n.a.createElement("div",{className:"carousel--text-container"},n.a.createElement("h3",{className:"carousel--top-title"},"Stay grounded and tag some signle deckers"),n.a.createElement("h2",{className:"carousel--main-title"},"Single Deckers")):2===s?n.a.createElement("div",{className:"carousel--text-container"},n.a.createElement("h3",{className:"carousel--top-title"},"Dont get stuck in the middle, explore the midi collection"),n.a.createElement("h2",{className:"carousel--main-title"},"Midi's")):3===s?n.a.createElement("div",{className:"carousel--text-container"},n.a.createElement("h3",{className:"carousel--top-title"},"Add some comments to the mighty mini's"),n.a.createElement("h2",{className:"carousel--main-title"},"Mini's")):4===s?n.a.createElement("div",{className:"carousel--text-container"},n.a.createElement("h3",{className:"carousel--top-title"},"Go the distance and create an account on Dicky"),n.a.createElement("h2",{className:"carousel--main-title"},"Coaches")):void 0))))},De=function(){return n.a.createElement("div",{className:"focus"},n.a.createElement("h1",{className:"focus--title"},"Share The Buses You Spotted"),n.a.createElement("h3",{className:"focus--subtitle"},"Discover, share and tag busses with other spotters and enthusiasts across the globe."))},Ue=function(){var e=Object(p.a)(m.a.mark((function e(t){var a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"GET"});case 3:return a=e.sent,e.next=6,a.json();case 6:if(r=e.sent,200!==a.status){e.next=9;break}return e.abrupt("return",r);case 9:throw Error;case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),Be=function(){var e=Object(r.useContext)(w).global,t=Object(r.useState)({array:[]}),a=Object(c.a)(t,2),o=a[0],l=a[1];return Object(r.useEffect)((function(){(function(){var t=Object(p.a)(m.a.mark((function t(){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ue("".concat(e.env.apiUrl,"/photos?limit=50&sortBy=newest"));case 2:a=t.sent,l((function(){return{array:a.photos}}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e.env.apiUrl]),n.a.createElement("section",{className:"home"},n.a.createElement(Me,null),n.a.createElement(De,null),n.a.createElement("div",{className:"home--image-container"},n.a.createElement("div",{className:"home--image-grid"},function(){for(var t,a=[],r=0;r<=o.array.length;r++)o.array[r]&&a.push(n.a.createElement("div",{key:o.array[r]._id},n.a.createElement("a",{href:"/bus/"+o.array[r]._id},n.a.createElement("div",{className:"home--image",style:(t=e.env.imgUrl+o.array[r].previewId,{backgroundImage:"url(".concat(t,")"),backgroundPosition:"center",backgroundSize:"cover",paddingBottom:"100%"})}))));return a}())))},Ge=a(34);function Re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Le(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Re(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Re(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Fe=function(){var e=Object(r.useContext)(w).global,t=Object(r.useContext)(b).dispatch,a=Object(r.useState)({apiError:"",confirmPassword:"",confirmPasswordError:"",currentPassword:"",currentPasswordError:"",formattedKey:"",loading:!1,newPassword:"",newPasswordError:"",sixDigitCode:"",totpUri:"",twofactor:e.shared.twofactor}),o=Object(c.a)(a,2),l=o[0],i=o[1],s=l.apiError,u=l.confirmPassword,v=l.confirmPasswordError,f=l.currentPassword,g=l.currentPasswordError,E=l.formattedKey,h=l.newPassword,O=l.newPasswordError,j=l.totpUri,N=l.twofactor,S=function(){var a=Object(p.a)(m.a.mark((function a(r){var n,o;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("".concat(e.env.apiUrl,"/login/2fa"),{body:JSON.stringify({formattedToken:r,jwtToken:localStorage.getItem("jwtToken")}),headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"});case 2:return n=a.sent,a.next=5,n.json();case 5:o=a.sent,200===n.status?(localStorage.setItem("jwtToken",o.jwtToken),t({type:x,value:o.shared}),i((function(e){return Le({},e,{totpUri:"",formattedKey:""})}))):i((function(e){return Le({},e,{apiError:o.error})}));case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),C=function(e){e.persist();var t=e.target,a=t.name,r=t.value;"sixDigitCode"===a&&6===r.length&&S(r),"currentPassword"===a&&g&&I("currentPassword",f),"newPassword"===a&&O&&I("newPassword",h),"confirmPassword"===a&&v&&I("confirmPassword",u),i((function(e){return Le({},e,Object(d.a)({},a,r))}))},k=function(){var a=Object(p.a)(m.a.mark((function a(r){var n,o;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i((function(e){return Le({},e,{loading:!0})})),a.next=3,fetch("".concat(e.env.apiUrl,"/my/password"),{body:JSON.stringify({currentPassword:r.currentPassword,jwtToken:localStorage.getItem("jwtToken"),newPassword:r.newPassword}),headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"});case 3:return n=a.sent,a.next=6,n.json();case 6:o=a.sent,i((function(e){return Le({},e,{loading:!1,apiError:""})})),200===n.status?(localStorage.setItem("jwtToken",o.jwtToken),t({type:x,value:o.shared}),i((function(e){return Le({},e,{confirmPassword:"",currentPassword:"",newPassword:""})}))):i((function(e){return Le({},e,{apiError:o.error})}));case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),T=function(e){e.target.value&&e.target.value.length>=1&&I(e.target.name,e.target.value)},I=function(e,t){if("confirmPassword"===e||"currentPassword"===e||"newPassword"===e)return/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})/.test(t)?(i((function(t){return Le({},t,Object(d.a)({},e+"Error",""))})),!0):(i((function(t){return Le({},t,Object(d.a)({},e+"Error","8+ charectors, and include 1: number, uppercase & special charector"))})),!1)},A=function(){var t=Object(p.a)(m.a.mark((function t(a){var r,n,o;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=a.target.name,i("twofactor"!==r||N?function(e){return Le({},e,Object(d.a)({},r,!1))}:function(e){return Le({},e,Object(d.a)({},r,!0))}),!a.target.checked){t.next=12;break}return t.next=5,fetch("".concat(e.env.apiUrl,"/my/2fa"),{body:JSON.stringify({jwtToken:localStorage.getItem("jwtToken")}),headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"});case 5:return n=t.sent,t.next=8,n.json();case 8:o=t.sent,200===n.status?i((function(e){return Le({},e,{formattedKey:o.formattedKey,totpUri:o.totpUri})})):i((function(e){return Le({},e,{apiError:o.error})})),t.next=13;break;case 12:i((function(e){return Le({},e,{totpUri:"",formattedKey:""})}));case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return n.a.createElement("span",{className:"page"},n.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=I("confirmPassword",u),a=I("currentPassword",f),r=I("newPassword",h);t&&a&&r&&(h===u?k({currentPassword:f,newPassword:h}):i((function(e){return Le({},e,{confirmPasswordError:"Passwords are not the same"})})))},className:"form"},n.a.createElement("h4",{className:"form--title"},"Change Password"),n.a.createElement("div",{className:"form--body"},n.a.createElement("div",null,"Password"),n.a.createElement("div",{className:"form--relative"},s&&n.a.createElement("div",{className:"error--api"},s),n.a.createElement("label",null,"Current Password",n.a.createElement("input",{autoFocus:!0,className:g&&"form--error",maxLength:70,name:"currentPassword",onBlur:T,onChange:C,type:"password",value:f}),n.a.createElement(M,{error:g})),n.a.createElement("small",{onClick:function(){t({type:y,value:"forgot"})},className:"form--link"},"Forgot your password?"),n.a.createElement("label",null,"New Password",n.a.createElement("input",{className:O&&"form--error",maxLength:70,name:"newPassword",onBlur:T,onChange:C,type:"password",value:h}),n.a.createElement(M,{error:O})),n.a.createElement("label",null,"Confirm Password",n.a.createElement("input",{className:v&&"form--error",maxLength:70,name:"confirmPassword",onBlur:T,onChange:C,type:"password",value:u}),n.a.createElement(M,{error:v})))),n.a.createElement("div",{className:"form--body"},n.a.createElement("div",null,"Authentication"),n.a.createElement("div",{className:"form--relative"},n.a.createElement("label",null,"Enable two factor authentication"),n.a.createElement("label",{className:"form--switch"},n.a.createElement("input",{className:"form--inputs",type:"checkbox",onChange:A,checked:N,name:"twofactor"}),n.a.createElement("span",{className:"form--slider"})),n.a.createElement("br",null),j&&n.a.createElement("div",null,n.a.createElement("br",null),n.a.createElement(Ge,{value:j}),n.a.createElement("label",null,"Key",n.a.createElement("input",{disabled:!0,name:"formattedKey",type:"text",value:E})),n.a.createElement("label",null,"Six digit code",n.a.createElement("input",{maxLength:6,name:"sixDigitCode",onChange:C,type:"password"}),n.a.createElement("small",null,"Scan the QR code with the Google Authenticator app"))))),n.a.createElement("div",{className:"form--footer"},n.a.createElement("small",null),n.a.createElement("div",null,n.a.createElement("button",{color:"primary",className:"form--save-changes"},l.loading?n.a.createElement("img",{src:P.a,alt:"loading",className:"loading"}):"Save Changes")))))},Ke=function(){var e=Object(p.a)(m.a.mark((function e(t){var a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{body:JSON.stringify({jwtToken:localStorage.getItem("jwtToken")}),headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"});case 3:return a=e.sent,e.next=6,a.json();case 6:if(r=e.sent,200!==a.status){e.next=11;break}return e.abrupt("return",r);case 11:return e.abrupt("return",null);case 12:e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}();function He(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ze(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?He(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):He(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Je=function(){var e=Object(r.useContext)(w).global,t=Object(r.useContext)(b).dispatch,a="".concat(e.env.apiUrl,"/my/photos"),o=Object(r.useState)({activeTab:"All",data:[]}),l=Object(c.a)(o,2),i=l[0],s=l[1];Object(r.useEffect)((function(){(function(){var e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke(a);case 2:t=e.sent,s((function(e){return ze({},e,{data:t.myPhotos})}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[e.display.modal,a]);var u=i.data,d=i.activeTab,v=function(e){var t=e.currentTarget.id;s((function(e){return ze({},e,{activeTab:t})}))},f=function(e){return e===d?{backgroundColor:"rgb(255,255,255)",borderBottom:"none"}:{backgroundColor:"rgb(235, 236, 237)",borderBottom:"1px solid rgb(187, 188, 190)"}},g=function(e){e.currentTarget.id};return n.a.createElement("div",{className:"photos"},n.a.createElement("div",{className:"grid"},n.a.createElement("div",{className:"grid--tab",id:"All",onClick:v,style:f("All")},"All ",n.a.createElement("small",null,"(",Object.keys(u).length,")")),n.a.createElement("div",{className:"grid--tab-area"},function(){for(var e=u.reduce((function(e,t){var a=e.find((function(e){return e.category===t.category}));return a?a.total++:e.push({category:t.category,total:1}),e}),[]),t=[],a=0;a<e.length;a++)t.push(n.a.createElement("div",{key:a,className:"grid--tab",id:e[a].category,onClick:v,style:f(e[a].category)},e[a].category," ",n.a.createElement("small",null,"(",e[a].total,")")));return t}()),n.a.createElement("div",{className:"grid--blank"}),n.a.createElement("div",{className:"grid--blank"},n.a.createElement("button",{color:"primary",onClick:function(){t({type:y,value:"photo"})}},"Add Photo")),n.a.createElement("div",{className:"grid--body"},u.length>0&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"grid--header"},"Preview"),n.a.createElement("div",{className:"grid--header",id:"Category",onClick:g},"Category"),n.a.createElement("div",{className:"grid--header",id:"Published",onClick:g},"Published"),n.a.createElement("div",{className:"grid--header",id:"Date",onClick:g},"Date")),n.a.createElement("div",{className:"grid--row"},function(){if("All"===d&&u.length<=0)return n.a.createElement("div",{className:"grid--empty"},n.a.createElement("div",{className:"grid--empty-title"}," No photo's added"),"Select Add Photo above to add your first photo");var t,a,r=[];t="All"!==d?u.filter((function(e){return e.category===d})):u;for(var o=0;o<=t.length;o++)t[o]&&r.push(n.a.createElement("div",{className:"grid--row"},n.a.createElement("div",{className:"grid--preview",style:(a=e.env.imgUrl+t[o].thumbnailId,{backgroundImage:"url(".concat(a,")"),backgroundSize:"cover",height:"90px",width:"90px"})}),n.a.createElement("div",{className:"grid--text"},t[o].category),n.a.createElement("div",{className:"grid--text"},t[o].published.toString()),n.a.createElement("div",{className:"grid--button"},n.a.createElement("button",{color:"primary"},"Edit"))));return r}()))))};function Ve(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Ze(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ve(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ve(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var We=function(){var e=Object(r.useContext)(w).global,t=Object(r.useContext)(b).dispatch,a=Object(r.useState)({apiError:"",currency:e.shared.currency,language:e.shared.language,loading:!1}),o=Object(c.a)(a,2),l=o[0],i=o[1],s=l.apiError,u=l.language,v=l.currency,f=l.loading,g=function(e){e.persist();var t=e.target,a=t.name,r=t.value;i((function(e){return Ze({},e,Object(d.a)({},a,r))}))},E=function(){var a=Object(p.a)(m.a.mark((function a(r){var n,o;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i((function(e){return Ze({},e,{loading:!0})})),a.next=3,fetch("".concat(e.env.apiUrl,"/my/preferences"),{body:JSON.stringify({currency:r.currency,jwtToken:localStorage.getItem("jwtToken"),language:r.language}),headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"});case 3:return n=a.sent,a.next=6,n.json();case 6:o=a.sent,i((function(e){return Ze({},e,{loading:!1,apiError:""})})),200===n.status?(localStorage.setItem("jwtToken",o.jwtToken),t({type:x,value:o.shared})):i((function(e){return Ze({},e,{apiError:o.error})}));case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return n.a.createElement("span",{className:"page"},n.a.createElement("form",{onSubmit:function(e){e.preventDefault(),E({language:u,currency:v})},className:"form"},n.a.createElement("h4",{className:"form--title"},"Edit Preferences"),n.a.createElement("div",{className:"form--body"},n.a.createElement("div",null,"Localization"),n.a.createElement("div",{className:"form--relative"},s&&n.a.createElement("div",{className:"error--api"},s),n.a.createElement("label",null,"Language",n.a.createElement("select",{autoFocus:!0,name:"language",onChange:g,value:u},n.a.createElement("option",{value:"ca"},"Catal\xe0"),n.a.createElement("option",{value:"cs"},"\u010cesky"),n.a.createElement("option",{value:"da"},"Dansk"),n.a.createElement("option",{value:"de"},"Deutsch"),n.a.createElement("option",{value:"el"},"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac"),n.a.createElement("option",{value:"en"},"English"),n.a.createElement("option",{value:"es"},"Espa\xf1ol"),n.a.createElement("option",{value:"et"},"Eesti"),n.a.createElement("option",{value:"eu"},"Basque"),n.a.createElement("option",{value:"fil"},"Filipino"),n.a.createElement("option",{value:"fr"},"Fran\xe7ais"),n.a.createElement("option",{value:"id"},"Indonesian"),n.a.createElement("option",{value:"is"},"\xcdslenska"),n.a.createElement("option",{value:"it"},"Italiano"),n.a.createElement("option",{value:"lt"},"Lietuvi\u0161kai"),n.a.createElement("option",{value:"nl"},"Nederlands"),n.a.createElement("option",{value:"no"},"Norsk"),n.a.createElement("option",{value:"pl"},"Polski"),n.a.createElement("option",{value:"pt-br"},"Portugu\xeas (Br)"),n.a.createElement("option",{value:"pt"},"Portugu\xeas (Pt)"),n.a.createElement("option",{value:"ro"},"Rom\xe2n\u0103"),n.a.createElement("option",{value:"ru"},"\u0420\u0443\u0441\u0441\u043a\u0438\u0439"),n.a.createElement("option",{value:"sk"},"Slovensky"),n.a.createElement("option",{value:"fi"},"Suomi"),n.a.createElement("option",{value:"sv"},"Svenska"),n.a.createElement("option",{value:"th"},"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22"),n.a.createElement("option",{value:"tr"},"T\xfcrk\xe7e"),n.a.createElement("option",{value:"ja"},"\u65e5\u672c\u8a9e"),n.a.createElement("option",{value:"zh-hans"},"\u7b80\u4f53\u4e2d\u6587"),n.a.createElement("option",{value:"zh-hant"},"\u7e41\u9ad4\u4e2d\u6587"),n.a.createElement("option",{value:"ko"},"\ud55c\uad6d\uc5b4"),n.a.createElement("option",{value:"sr"},"\u0421\u0440\u043f\u0441\u043a\u0438"),n.a.createElement("option",{value:"sr-latn"},"Srpski (Latinica)"))),n.a.createElement("label",null,"Currency",n.a.createElement("select",{name:"currency",onChange:g,value:v},n.a.createElement("option",{value:"AUD"},"Australian dollars ($)"),n.a.createElement("option",{value:"BHD"},"Bahrain dinars (BD)"),n.a.createElement("option",{value:"BTC"},"Bitcoin (\u0243)"),n.a.createElement("option",{value:"BRL"},"Brazil reals (R$)"),n.a.createElement("option",{value:"GBP"},"British pounds (\xa3)"),n.a.createElement("option",{value:"BND"},"Brunei dollars ($)"),n.a.createElement("option",{value:"CAD"},"Canadian dollars ($)"),n.a.createElement("option",{value:"CNY"},"Chinese yuan (\xa5)"),n.a.createElement("option",{value:"CZK"},"Czech koruny (K\u010d)"),n.a.createElement("option",{value:"DKK"},"Danish kroner (kr)"),n.a.createElement("option",{value:"EGP"},"Egyptian pounds (\xa3)"),n.a.createElement("option",{value:"EUR"},"Euros (\u20ac)"),n.a.createElement("option",{value:"HKD"},"Hong Kong dollars ($)"),n.a.createElement("option",{value:"HUF"},"Hungarian forints (Ft)"),n.a.createElement("option",{value:"INR"},"Indian rupees (\u20b9)"),n.a.createElement("option",{value:"IDR"},"Indonesian rupiahs (Rp)"),n.a.createElement("option",{value:"ILS"},"Israeli shekels (\u20aa)"),n.a.createElement("option",{value:"JPY"},"Japanese yen (\xa5)"),n.a.createElement("option",{value:"JOD"},"Jordanian dinars (JD)"),n.a.createElement("option",{value:"KZT"},"Kazakh tenge (\u043b\u0432)"),n.a.createElement("option",{value:"KWD"},"Kuwaiti dinars (K.D.)"),n.a.createElement("option",{value:"LTL"},"Lithuanian litai (Lt)"),n.a.createElement("option",{value:"MYR"},"Malaysian ringgits (RM)"),n.a.createElement("option",{value:"MXN"},"Mexican pesos ($)"),n.a.createElement("option",{value:"NZD"},"New Zealand dollars ($)"),n.a.createElement("option",{value:"NOK"},"Norwegian kroner (kr)"),n.a.createElement("option",{value:"PKR"},"Pakistan rupees (\u20a8)"),n.a.createElement("option",{value:"PHP"},"Philippine pesos (\u20b1)"),n.a.createElement("option",{value:"PLN"},"Polish zloty (z\u0142)"),n.a.createElement("option",{value:"QAR"},"Qatar riyals (\ufdfc)"),n.a.createElement("option",{value:"RON"},"Romanian leu (L)"),n.a.createElement("option",{value:"RUB"},"Russian rubles (\u0440\u0443\u0431)"),n.a.createElement("option",{value:"SAR"},"Saudi riyals (\ufdfc)"),n.a.createElement("option",{value:"RSD"},"Serbian dinars (\u0414\u0438\u043d.)"),n.a.createElement("option",{value:"SGD"},"Singapore dollars ($)"),n.a.createElement("option",{value:"ZAR"},"South African rands (R)"),n.a.createElement("option",{value:"KRW"},"South Korean won (\u20a9)"),n.a.createElement("option",{value:"SEK"},"Swedish kronor (kr)"),n.a.createElement("option",{value:"CHF"},"Swiss francs (CHF)"),n.a.createElement("option",{value:"TWD"},"Taiwan dollars (NT$)"),n.a.createElement("option",{value:"THB"},"Thai baht (\u0e3f)"),n.a.createElement("option",{value:"TRY"},"Turkish liras (\u20a4)"),n.a.createElement("option",{value:"USD"},"U.S. dollars ($)"),n.a.createElement("option",{value:"AED"},"United Arab Emirates dirhams (AED)"),n.a.createElement("option",{value:"VND"},"Vietnamese dong (\u20ab)"))))),n.a.createElement("div",{className:"form--footer"},n.a.createElement("small",null),n.a.createElement("div",null,n.a.createElement("button",{color:"primary",className:"form--save-changes"},f?n.a.createElement("img",{src:P.a,alt:"loading",className:"loading"}):"Save Changes")))))};function Ye(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Qe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ye(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ye(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Xe=function(e){var t=Object(r.useContext)(b).dispatch,a=Object(r.useState)({isMe:e.isMe,placeholder:e.placeholder||"",resizeTo:e.resizeTo,saveImg:e.saveImg,signedUrl:e.signedUrl}),o=Object(c.a)(a,2),l=o[0],i=o[1],s=l.placeholder;Object(r.useEffect)((function(){i((function(t){return Qe({},t,{placeholder:e.placeholder})}))}),[e.placeholder]);var u={};u=s.length<=60?{backgroundColor:"grey",backgroundSize:"cover",height:"300px",overflow:"hidden",width:"100%"}:{background:"url(".concat(s,") no-repeat center center"),backgroundColor:"grey",backgroundSize:"cover",height:"300px",overflow:"hidden",width:"100%"};var d=function(){var a=Object(p.a)(m.a.mark((function a(r){var n,o,l,c,i,s,u;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch(e.signedUrl,{body:JSON.stringify({jwtToken:localStorage.getItem("jwtToken")}),headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"});case 2:return n=a.sent,a.next=5,n.json();case 5:if(o=a.sent,200!==n.status){a.next=20;break}return l=o.signedUrl,a.next=10,fetch(l,{body:r,headers:{Accept:"application/json","Content-Type":"image/jpeg"},method:"PUT"});case 10:if(200!==(c=a.sent).status){a.next=20;break}return i="".concat(c.url.split("/")[4],"/").concat(c.url.split("/")[5].split("?")[0]),a.next=15,fetch(e.saveImg,{body:JSON.stringify({coverId:i,jwtToken:localStorage.getItem("jwtToken")}),headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"});case 15:return s=a.sent,a.next=18,s.json();case 18:u=a.sent,t({type:x,value:u.shared});case 20:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return n.a.createElement("div",{className:"cover",style:u},e.isMe&&n.a.createElement("label",{className:"cover--label"},n.a.createElement("span",{className:"cover--upload"},"Upload cover image"),n.a.createElement("input",{accept:"image/png, image/jpeg",id:"photo",name:"photo",onChange:function(e){if(e.currentTarget.files){var t=e.currentTarget.files[0],a=new FileReader;a.onload=function(e){var a=new Image;a.onload=function(){var e=Object(p.a)(m.a.mark((function e(t){var r,n,o,l,c,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=document.createElement("canvas")).width=900,r.height=300,(n=r.getContext("2d")).imageSmoothingEnabled=!1,o=a.width,l=a.height,l*=900/o,o=900,n.drawImage(a,0,0,o,l),c=r.toDataURL("image/jpeg"),i((function(e){return Qe({},e,{placeholder:c,height:l,width:o})})),e.next=14,C(c);case 14:s=e.sent,d(s);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.src=URL.createObjectURL(t)},a&&a.readAsDataURL(t)}},type:"file"})))},$e={zhhans:{AD:"\u5b89\u9053\u5c14",AE:"\u963f\u62c9\u4f2f\u8054\u5408\u914b\u957f\u56fd",AF:"\u963f\u5bcc\u6c57",AG:"\u5b89\u63d0\u74dc\u548c\u5df4\u5e03\u8fbe",AI:"\u5b89\u572d\u62c9\u5c9b",AL:"\u963f\u5c14\u5df4\u5c3c\u4e9a",AM:"\u4e9a\u7f8e\u5c3c\u4e9a",AN:"\u8377\u5c5e\u5b89\u7684\u5217\u65af",AO:"\u5b89\u54e5\u62c9",AQ:"\u5357\u6781\u6d32",AR:"\u963f\u6839\u5ef7",AS:"\u7f8e\u5c5e\u8428\u6469\u4e9a",AT:"\u5965\u5730\u5229",AU:"\u6fb3\u5927\u5229\u4e9a",AW:"\u963f\u9c81\u5df4\u5c9b",AX:"\u4e9a\u5170\u7fa4\u5c9b",AZ:"\u963f\u585e\u62dc\u7586",BA:"\u6ce2\u65af\u5c3c\u4e9a\u548c\u9ed1\u585e\u54e5\u7ef4\u90a3",BB:"\u5df4\u5df4\u591a\u65af",BD:"\u5b5f\u52a0\u62c9\u56fd",BE:"\u6bd4\u5229\u65f6",BF:"\u5e03\u57fa\u7eb3\u6cd5\u7d22",BG:"\u4fdd\u52a0\u5229\u4e9a",BH:"\u5df4\u6797",BI:"\u5e03\u9686\u8fea",BJ:"\u8d1d\u5b81",BM:"\u767e\u6155\u5927",BN:"\u6587\u83b1\u8fbe\u9c81\u8428\u5170\u56fd",BO:"\u73bb\u5229\u7ef4\u4e9a",BR:"\u5df4\u897f",BS:"\u5df4\u54c8\u9a6c",BT:"\u4e0d\u4e39",BV:"\u5e03\u7ef4\u5c9b",BW:"\u535a\u8328\u74e6\u7eb3",BY:"\u767d\u4fc4\u7f57\u65af",BZ:"\u4f2f\u5229\u5179",CA:"\u52a0\u62ff\u5927",CC:"\u79d1\u79d1\u65af\uff08\u57fa\u6797\uff09\u7fa4\u5c9b",CD:"\u521a\u679c\u6c11\u4e3b\u5171\u548c\u56fd\uff08\u74e6\u624e\u4f0a\u5c14\uff09",CF:"\u4e2d\u975e\u5171\u548c\u56fd",CG:"\u521a\u679c\u5171\u548c\u56fd",CH:"\u745e\u58eb",CI:"\u8c61\u7259\u6d77\u5cb8",CK:"\u5e93\u514b\u7fa4\u5c9b",CL:"\u667a\u5229",CM:"\u5580\u9ea6\u9686",CN:"\u4e2d\u56fd",CO:"\u54e5\u4f26\u6bd4\u4e9a",CR:"\u54e5\u65af\u8fbe\u9ece\u52a0",CU:"\u53e4\u5df4",CV:"\u4f5b\u5f97\u89d2",CX:"\u5723\u8bde\u5c9b",CY:"\u585e\u6d66\u8def\u65af",CZ:"\u6377\u514b\u5171\u548c\u56fd",DE:"\u5fb7\u56fd",DJ:"\u5409\u5e03\u5730",DK:"\u4e39\u9ea6",DM:"\u591a\u7c73\u5c3c\u52a0",DO:"\u591a\u660e\u5c3c\u52a0\u5171\u548c\u56fd",DZ:"\u963f\u5c14\u53ca\u5229\u4e9a",EC:"\u5384\u74dc\u591a\u5c14",EE:"\u7231\u6c99\u5c3c\u4e9a",EG:"\u57c3\u53ca",EH:"\u6492\u54c8\u62c9\u6c99\u6f20\u897f\u90e8",ER:"\u5384\u7acb\u7279\u91cc\u4e9a",ES:"\u897f\u73ed\u7259",ET:"\u57c3\u585e\u4fc4\u6bd4\u4e9a",FI:"\u82ac\u5170",FJ:"\u6590\u6d4e",FK:"\u798f\u514b\u5170\u7fa4\u5c9b\uff08\u9a6c\u5c14\u7ef4\u7eb3\u65af\uff09",FM:"\u5bc6\u514b\u7f57\u5c3c\u897f\u4e9a\u8054\u90a6",FO:"\u6cd5\u7f57\u7fa4\u5c9b",FR:"\u6cd5\u56fd",GA:"\u52a0\u84ec",GB:"\u82f1\u56fd",GD:"\u683c\u6797\u7eb3\u8fbe",GE:"\u4f50\u6cbb\u4e9a\u5dde",GF:"\u6cd5\u5c5e\u572d\u4e9a\u90a3",GH:"\u52a0\u7eb3",GI:"\u76f4\u5e03\u7f57\u9640",GL:"\u683c\u9675\u5170",GM:"\u5188\u6bd4\u4e9a",GN:"\u51e0\u5185\u4e9a",GP:"\u74dc\u5fb7\u7f57\u666e\u5c9b",GQ:"\u8d64\u9053\u51e0\u5185\u4e9a",GR:"\u5e0c\u814a",GS:"\u5357\u4e54\u6cbb\u4e9a\u5c9b\u548c\u5357\u6851\u5a01\u5947\u7fa4\u5c9b",GT:"\u5371\u5730\u9a6c\u62c9",GU:"\u5173\u5c9b",GW:"\u51e0\u5185\u4e9a\u6bd4\u7ecd",GY:"\u572d\u4e9a\u90a3",HK:"\u9999\u6e2f",HM:"\u8d6b\u5fb7\u5c9b\u548c\u9ea6\u514b\u5510\u7eb3\u7fa4\u5c9b",HN:"\u6d2a\u90fd\u62c9\u65af",HR:"\u514b\u7f57\u5730\u4e9a\uff08\u672c\u5730\u540d\u79f0\uff1aHrvatska)",HT:"\u6d77\u5730",HU:"\u5308\u7259\u5229",ID:"\u5370\u5c3c",IE:"\u7231\u5c14\u5170",IL:"\u4ee5\u8272\u5217",IN:"\u5370\u5ea6",IO:"\u82f1\u5c5e\u5370\u5ea6\u6d0b\u9886\u5730",IQ:"\u4f0a\u62c9\u514b",IR:"\u4f0a\u6717\uff08\u4f0a\u65af\u5170\u5171\u548c\u56fd\uff09",IS:"\u51b0\u5c9b",IT:"\u610f\u5927\u5229",JM:"\u7259\u4e70\u52a0",JO:"\u7ea6\u65e6",JP:"\u65e5\u672c",KE:"\u80af\u5c3c\u4e9a",KG:"\u5409\u5c14\u5409\u65af\u65af\u5766",KH:"\u67ec\u57d4\u5be8",KI:"\u57fa\u91cc\u5df4\u65af",KM:"\u79d1\u6469\u7f57",KN:"\u5723\u57fa\u8328\u548c\u5c3c\u7ef4\u65af",KP:"\u671d\u9c9c",KR:"\u97e9\u56fd",KW:"\u79d1\u5a01\u7279",KY:"\u5f00\u66fc\u7fa4\u5c9b",KZ:"\u54c8\u8428\u514b\u65af\u5766",LA:"\u8001\u631d\u4eba\u6c11\u6c11\u4e3b\u5171\u548c\u56fd",LB:"\u9ece\u5df4\u5ae9",LC:"\u5723\u5362\u897f\u4e9a",LI:"\u5217\u652f\u6566\u58eb\u767b",LK:"\u65af\u91cc\u5170\u5361",LR:"\u5229\u6bd4\u91cc\u4e9a",LS:"\u83b1\u7d22\u6258",LT:"\u7acb\u9676\u5b9b",LU:"\u5362\u68ee\u5821",LV:"\u62c9\u8131\u7ef4\u4e9a",LY:"\u963f\u62c9\u4f2f\u5229\u6bd4\u4e9a\u6c11\u4f17\u56fd",MA:"\u6469\u6d1b\u54e5",MC:"\u6469\u7eb3\u54e5",MD:"\u6469\u5c14\u591a\u74e6\u5171\u548c\u56fd",ME:"\u9ed1\u5c71\u5171\u548c\u56fd",MG:"\u9a6c\u8fbe\u52a0\u65af\u52a0",MH:"\u9a6c\u7ecd\u5c14\u7fa4\u5c9b",MK:"\u9a6c\u5176\u987f\uff0c\u524d\u5357\u65af\u62c9\u592b\u5171\u548c\u56fd",ML:"\u9a6c\u91cc",MM:"\u7f05\u7538",MN:"\u8499\u53e4",MO:"\u6fb3\u95e8",MP:"\u5317\u9a6c\u91cc\u4e9a\u7eb3\u7fa4\u5c9b",MQ:"\u9a6c\u63d0\u5c3c\u514b\u5c9b",MR:"\u6bdb\u91cc\u5854\u5c3c\u4e9a",MS:"\u8499\u7279\u585e\u62c9\u7279",MT:"\u9a6c\u8033\u4ed6",MU:"\u6bdb\u91cc\u6c42\u65af",MV:"\u9a6c\u5c14\u4ee3\u592b",MW:"\u9a6c\u62c9\u7ef4",MX:"\u58a8\u897f\u54e5",MY:"\u9a6c\u6765\u897f\u4e9a",MZ:"\u83ab\u6851\u6bd4\u514b",NA:"\u7eb3\u7c73\u6bd4\u4e9a",NC:"\u65b0\u5580\u91cc\u591a\u5c3c\u4e9a",NE:"\u5c3c\u65e5\u5c14",NF:"\u8bfa\u798f\u514b\u5c9b",NG:"\u5c3c\u65e5\u5229\u4e9a",NI:"\u5c3c\u52a0\u62c9\u74dc",NL:"\u8377\u5170",NO:"\u632a\u5a01",NP:"\u5c3c\u6cca\u5c14",NR:"\u7459\u9c81",NU:"\u7ebd\u57c3",NZ:"\u65b0\u897f\u5170",OM:"\u963f\u66fc",PA:"\u5df4\u62ff\u9a6c",PE:"\u79d8\u9c81",PF:"\u6cd5\u5c5e\u6ce2\u5229\u5c3c\u897f\u4e9a",PG:"\u5df4\u5e03\u4e9a\u65b0\u51e0\u5185\u4e9a",PH:"\u83f2\u5f8b\u5bbe",PK:"\u5df4\u57fa\u65af\u5766",PL:"\u6ce2\u5170",PM:"\u5723\u76ae\u57c3\u5c14\u548c\u5bc6\u514b\u9686\u7fa4\u5c9b",PN:"\u76ae\u7279\u51ef\u6069",PR:"\u6ce2\u591a\u9ece\u5404",PS:"\u5df4\u52d2\u65af\u5766\u9886\u571f",PT:"\u8461\u8404\u7259",PW:"\u5e15\u52b3",PY:"\u5df4\u62c9\u572d",QA:"\u5361\u5854\u5c14",RE:"\u7559\u5c3c\u6c6a",RO:"\u7f57\u9a6c\u5c3c\u4e9a",RS:"\u585e\u5c14\u7ef4\u4e9a",RU:"\u4fc4\u7f57\u65af\u8054\u90a6",RW:"\u5362\u65fa\u8fbe",SA:"\u6c99\u7279\u963f\u62c9\u4f2f",SB:"\u6240\u7f57\u95e8\u7fa4\u5c9b",SC:"\u585e\u820c\u5c14",SD:"\u82cf\u4e39",SE:"\u745e\u5178",SG:"\u65b0\u52a0\u5761",SH:"\u5723\u6d77\u4f26\u5a1c",SI:"\u65af\u6d1b\u6587\u5c3c\u4e9a",SJ:"\u65af\u74e6\u5c14\u5df4\u7fa4\u5c9b\u548c\u626c\u9a6c\u5ef6\u7fa4\u5c9b",SK:"\u65af\u6d1b\u4f10\u514b",SL:"\u585e\u62c9\u5229\u6602",SM:"\u5723\u9a6c\u529b\u8bfa",SN:"\u585e\u5185\u52a0\u5c14",SO:"\u7d22\u9a6c\u91cc",SR:"\u82cf\u91cc\u5357",SS:"\u5357\u82cf\u4e39",ST:"\u5723\u591a\u7f8e\u548c\u666e\u6797\u897f\u6bd4",SV:"\u8428\u5c14\u74e6\u591a",SY:"\u963f\u62c9\u4f2f\u53d9\u5229\u4e9a\u5171\u548c\u56fd",SZ:"\u65af\u5a01\u58eb\u5170",TC:"\u7279\u514b\u65af\u548c\u51ef\u79d1\u65af\u7fa4\u5c9b",TD:"\u4e4d\u5f97",TF:"\u6cd5\u5c5e\u5357\u90e8\u9886\u5730",TG:"\u591a\u54e5",TH:"\u6cf0\u56fd",TJ:"\u5854\u5409\u514b\u65af\u5766",TK:"\u6258\u514b\u52b3",TL:"\u4e1c\u5e1d\u6c76",TM:"\u571f\u5e93\u66fc\u65af\u5766",TN:"\u7a81\u5c3c\u65af",TO:"\u6c64\u52a0",TR:"\u571f\u8033\u5176",TT:"\u7279\u7acb\u5c3c\u8fbe\u548c\u591a\u5df4\u54e5",TV:"\u56fe\u74e6\u5362",TW:"\u53f0\u6e7e",TZ:"\u5766\u6851\u5c3c\u4e9a\u8054\u5408\u5171\u548c\u56fd",UA:"\u4e4c\u514b\u5170",UG:"\u4e4c\u5e72\u8fbe",UM:"\u7f8e\u56fd\u672c\u571f\u5916\u5c0f\u5c9b\u5c7f",US:"\u7f8e\u56fd",UY:"\u4e4c\u62c9\u572d",UZ:"\u4e4c\u5179\u522b\u514b\u65af\u5766",VA:"\u68b5\u8482\u5188\u57ce\u56fd\uff08\u6559\u5ef7\uff09",VC:"\u5723\u6587\u68ee\u7279\u548c\u683c\u6797\u7eb3\u4e01\u65af",VE:"\u59d4\u5185\u745e\u62c9",VG:"\u7ef4\u5c14\u4eac\u7fa4\u5c9b\uff08\u82f1\u56fd\uff09",VI:"\u7ef4\u5c14\u4eac\u7fa4\u5c9b\uff08\u7f8e\u56fd\uff09",VN:"\u8d8a\u5357",VU:"\u74e6\u52aa\u963f\u56fe",WF:"\u74e6\u5229\u65af\u7fa4\u5c9b\u548c\u5bcc\u56fe\u7eb3\u7fa4\u5c9b",WS:"\u8428\u6469\u4e9a",YE:"\u4e5f\u95e8",YT:"\u9a6c\u7ea6\u7279",ZA:"\u5357\u975e",ZM:"\u8d5e\u6bd4\u4e9a",ZW:"\u6d25\u5df4\u5e03\u97e6"},en:{AD:"Andorra",AE:"United Arab Emirates",AF:"Afghanistan",AG:"Antigua And Barbuda",AI:"Anguilla",AL:"Albania",AM:"Armenia",AN:"Netherlands Antilles",AO:"Angola",AQ:"Antarctica",AR:"Argentina",AS:"American Samoa",AT:"Austria",AU:"Australia",AW:"Aruba",AX:"Aaland Islands",AZ:"Azerbaijan",BA:"Bosnia And Herzegowina",BB:"Barbados",BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BM:"Bermuda",BN:"Brunei Darussalam",BO:"Bolivia",BR:"Brazil",BS:"Bahamas",BT:"Bhutan",BV:"Bouvet Island",BW:"Botswana",BY:"Belarus",BZ:"Belize",CA:"Canada",CC:"Cocos (Keeling) Islands",CD:"Congo, Democratic Republic Of (Was Zaire)",CF:"Central African Republic",CG:"Congo, Republic Of",CH:"Switzerland",CI:"Cote D'Ivoire",CK:"Cook Islands",CL:"Chile",CM:"Cameroon",CN:"China",CO:"Colombia",CR:"Costa Rica",CU:"Cuba",CV:"Cape Verde",CX:"Christmas Island",CY:"Cyprus",CZ:"Czech Republic",DE:"Germany",DJ:"Djibouti",DK:"Denmark",DM:"Dominica",DO:"Dominican Republic",DZ:"Algeria",EC:"Ecuador",EE:"Estonia",EG:"Egypt",EH:"Western Sahara",ER:"Eritrea",ES:"Spain",ET:"Ethiopia",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands (Malvinas)",FM:"Micronesia, Federated States Of",FO:"Faroe Islands",FR:"France",GA:"Gabon",GB:"United Kingdom",GD:"Grenada",GE:"Georgia",GF:"French Guiana",GH:"Ghana",GI:"Gibraltar",GL:"Greenland",GM:"Gambia",GN:"Guinea",GP:"Guadeloupe",GQ:"Equatorial Guinea",GR:"Greece",GS:"South Georgia And The South Sandwich Islands",GT:"Guatemala",GU:"Guam",GW:"Guinea-Bissau",GY:"Guyana",HK:"Hong Kong",HM:"Heard And Mc Donald Islands",HN:"Honduras",HR:"Croatia (Local Name: Hrvatska)",HT:"Haiti",HU:"Hungary",ID:"Indonesia",IE:"Ireland",IL:"Israel",IN:"India",IO:"British Indian Ocean Territory",IQ:"Iraq",IR:"Iran (Islamic Republic Of)",IS:"Iceland",IT:"Italy",JM:"Jamaica",JO:"Jordan",JP:"Japan",KE:"Kenya",KG:"Kyrgyzstan",KH:"Cambodia",KI:"Kiribati",KM:"Comoros",KN:"Saint Kitts And Nevis",KP:"Korea, North",KR:"Korea, Republic Of",KW:"Kuwait",KY:"Cayman Islands",KZ:"Kazakhstan",LA:"Lao People's Democratic Republic",LB:"Lebanon",LC:"Saint Lucia",LI:"Liechtenstein",LK:"Sri Lanka",LR:"Liberia",LS:"Lesotho",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",LY:"Libyan Arab Jamahiriya",MA:"Morocco",MC:"Monaco",MD:"Moldova, Republic Of",ME:"Montenegro",MG:"Madagascar",MH:"Marshall Islands",MK:"Macedonia, The Former Yugoslav Republic Of",ML:"Mali",MM:"Myanmar",MN:"Mongolia",MO:"Macau",MP:"Northern Mariana Islands",MQ:"Martinique",MR:"Mauritania",MS:"Montserrat",MT:"Malta",MU:"Mauritius",MV:"Maldives",MW:"Malawi",MX:"Mexico",MY:"Malaysia",MZ:"Mozambique",NA:"Namibia",NC:"New Caledonia",NE:"Niger",NF:"Norfolk Island",NG:"Nigeria",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",NP:"Nepal",NR:"Nauru",NU:"Niue",NZ:"New Zealand",OM:"Oman",PA:"Panama",PE:"Peru",PF:"French Polynesia",PG:"Papua New Guinea",PH:"Philippines",PK:"Pakistan",PL:"Poland",PM:"Saint Pierre And Miquelon",PN:"Pitcairn",PR:"Puerto Rico",PS:"Palestinian Territory",PT:"Portugal",PW:"Palau",PY:"Paraguay",QA:"Qatar",RE:"Reunion",RO:"Romania",RS:"Serbia",RU:"Russian Federation",RW:"Rwanda",SA:"Saudi Arabia",SB:"Solomon Islands",SC:"Seychelles",SD:"Sudan",SE:"Sweden",SG:"Singapore",SH:"Saint Helena",SI:"Slovenia",SJ:"Svalbard And Jan Mayen Islands",SK:"Slovakia",SL:"Sierra Leone",SM:"San Marino",SN:"Senegal",SO:"Somalia",SR:"Suriname",SS:"South Sudan",ST:"Sao Tome And Principe",SV:"El Salvador",SY:"Syrian Arab Republic",SZ:"Swaziland",TC:"Turks And Caicos Islands",TD:"Chad",TF:"French Southern Territories",TG:"Togo",TH:"Thailand",TJ:"Tajikistan",TK:"Tokelau",TL:"East Timor",TM:"Turkmenistan",TN:"Tunisia",TO:"Tonga",TR:"Turkey",TT:"Trinidad And Tobago",TV:"Tuvalu",TW:"Taiwan",TZ:"Tanzania, United Republic Of",UA:"Ukraine",UG:"Uganda",UM:"United States Minor Outlying Islands",US:"United States of America",UY:"Uruguay",UZ:"Uzbekistan",VA:"Vatican City State (Holy See)",VC:"Saint Vincent And The Grenadines",VE:"Venezuela",VG:"Virgin Islands (British)",VI:"Virgin Islands (U.S.)",VN:"Viet Nam",VU:"Vanuatu",WF:"Wallis And Futuna Islands",WS:"Samoa",YE:"Yemen",YT:"Mayotte",ZA:"South Africa",ZM:"Zambia",ZW:"Zimbabwe"}};function _e(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function qe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_e(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_e(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var et=function(e){var t=Object(r.useContext)(w).global,a=Object(r.useContext)(b).dispatch,o=e.match.params.username,l=$e[t.shared.language],i=Object(r.useState)({followLoading:!1,pageLoading:!0}),s=Object(c.a)(i,2),u=s[0],d=s[1],v=Object(r.useState)({array:[]}),f=Object(c.a)(v,2),g=f[0],E=f[1],h=Object(r.useState)({avatarId:"",bio:"",canFollow:!0,country:"",coverId:"",followers:0,following:0,fullName:"",isMe:!1,loading:!0,webSite:""}),x=Object(c.a)(h,2),O=x[0],j=x[1],N=u.followLoading,S=u.pageLoading,C=O.avatarId,k=O.bio,T=O.canFollow,I=O.coverId,A=O.country,M=O.fullName,D=O.isMe,U=O.webSite,B=O.followers,G=O.following,R=function(){var e=Object(p.a)(m.a.mark((function e(a){var r,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d((function(e){return qe({},e,{followLoading:!0})})),e.next=3,fetch("".concat(t.env.apiUrl,"/user/").concat(a),{body:JSON.stringify({jwtToken:localStorage.getItem("jwtToken"),username:o}),headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"});case 3:return r=e.sent,e.next=6,r.json();case 6:n=e.sent,200===r.status&&(d((function(e){return qe({},e,{followLoading:!1})})),j((function(){return n.shared})));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){function e(){return(e=Object(p.a)(m.a.mark((function e(){var a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t.env.apiUrl,"/user/profile"),{body:JSON.stringify({jwtToken:localStorage.getItem("jwtToken")||"",username:o}),headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"});case 2:return a=e.sent,e.next=5,a.json();case 5:r=e.sent,200===a.status&&(d((function(e){return qe({},e,{pageLoading:!1})})),j((function(){return r.shared})),E((function(){return{array:r.photos}})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}o&&function(){e.apply(this,arguments)}()}),[t.env.apiUrl,t.shared.username,o]);return n.a.createElement("div",{className:"profile"},!S&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",null,!C&&n.a.createElement("img",{src:t.env.imgUrl+"initials/"+M.toLowerCase().charAt(0)+".png",className:"profile--avatar",alt:M}),C&&n.a.createElement("img",{src:t.env.imgUrl+C,className:"profile--avatar",alt:M}),n.a.createElement("br",null),n.a.createElement("h1",{className:"profile--name"},M),n.a.createElement("h2",{className:"profile--username"},"@",o),n.a.createElement("p",{className:"profile--bio"},k),n.a.createElement("p",{className:"profile--followers",onClick:function(){a({type:y,value:"followers"})}},n.a.createElement("b",null,B)," Followers"),n.a.createElement("p",{className:"profile--following",onClick:function(){a({type:y,value:"following"})}},n.a.createElement("b",null,G)," Following"),n.a.createElement("br",null),A&&n.a.createElement("p",{className:"profile--country"},l[A]),U&&n.a.createElement("p",{className:"profile--website"},n.a.createElement("a",{href:U,target:"_blank",rel:"noopener noreferrer"},U.replace(/(^\w+:|^)\/\//,"")))),n.a.createElement("div",null,n.a.createElement("div",{className:"profile--header"},n.a.createElement(Xe,{isMe:D,placeholder:t.env.imgUrl+I,resizeTo:900,signedUrl:"".concat(t.env.apiUrl,"/upload/signed-url"),saveImg:"".concat(t.env.apiUrl,"/my/cover")}),n.a.createElement("div",{className:"profile--nav"},n.a.createElement("div",null,n.a.createElement("button",{className:"profile--button"},"Photos"),n.a.createElement("button",{className:"profile--button"},"Liked")),n.a.createElement("div",null,D&&n.a.createElement("button",{className:"profile--button",onClick:function(){e.history.push("/my/profile")}},"Edit Profile"),!D&&T&&n.a.createElement("button",{className:"profile--follow",onClick:function(){t.shared.loggedIn?N||R("follow"):a({type:y,value:"login"})}},N?n.a.createElement("img",{src:P.a,alt:"loading",className:"loading"}):n.a.createElement("span",{className:"profile--followIcon"},"+ Follow")),!D&&!T&&n.a.createElement("button",{className:"profile--follow",onClick:function(){t.shared.loggedIn?N||R("unfollow"):a({type:y,value:"login"})}},N?n.a.createElement("img",{src:P.a,alt:"loading",className:"loading"}):n.a.createElement("span",{className:"profile--unfollowIcon"},"X Unfollow"))))),n.a.createElement("div",{className:"profile--image-grid"},function(){for(var e,a=[],r=0;r<=g.array.length;r++)g.array[r]&&a.push(n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"profile--image",style:(e=t.env.imgUrl+g.array[r].previewId,{backgroundImage:"url(".concat(e,")"),backgroundPosition:"center",backgroundSize:"cover",paddingBottom:"100%"})})));return a}()))))};function tt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function at(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?tt(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):tt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var rt=function(e){Object(r.useContext)(w).global;var t=Object(r.useContext)(b).dispatch,a=Object(r.useState)({imageURL:e.placeholder}),o=Object(c.a)(a,2),l=o[0],i=o[1],s=l.imageURL,u=function(){var a=Object(p.a)(m.a.mark((function a(r){var n,o,l,c,i,s,u;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch(e.signedUrl,{body:JSON.stringify({jwtToken:localStorage.getItem("jwtToken")}),headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"});case 2:return n=a.sent,a.next=5,n.json();case 5:if(o=a.sent,200!==n.status){a.next=20;break}return l=o.signedUrl,a.next=10,fetch(l,{body:r,headers:{Accept:"application/json","Content-Type":"image/jpeg"},method:"PUT"});case 10:if(200!==(c=a.sent).status){a.next=20;break}return i="".concat(c.url.split("/")[4],"/").concat(c.url.split("/")[5].split("?")[0]),a.next=15,fetch(e.saveImg,{body:JSON.stringify({avatarId:i,jwtToken:localStorage.getItem("jwtToken")}),headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"});case 15:return s=a.sent,a.next=18,s.json();case 18:u=a.sent,t({type:x,value:u.shared});case 20:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return n.a.createElement("div",{className:"photo"},n.a.createElement("label",null,n.a.createElement("img",{alt:"your first name initial",className:"photo--preview",src:s}),n.a.createElement("input",{accept:"image/png, image/jpeg",id:"photo",name:"photo",onChange:function(t){if(t.currentTarget.files){var a=t.currentTarget.files[0],r=new FileReader;r.onload=function(t){var r=new Image;r.onload=function(){var t=Object(p.a)(m.a.mark((function t(a){var n,o,l,c,s,p,d;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=document.createElement("canvas"),o=e.resizeTo,n.width=o,n.height=o,(l=n.getContext("2d")).imageSmoothingEnabled=!1,c=r.width,s=r.height,c>s&&c>o?(c*=o/s,s=o):s>o&&(s*=o/c,c=o),l.drawImage(r,0,0,c,s),p=n.toDataURL("image/jpeg"),i((function(e){return at({},e,{imageURL:p,height:s,width:c})})),t.next=14,C(p);case 14:d=t.sent,u(d);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),r.src=URL.createObjectURL(a)},r&&r.readAsDataURL(a)}},type:"file"})))},nt={en:{AD:{value:"376",txt:"Andorra (+376)"},AE:{value:"971",txt:"United Arab Emirates (+971)"},AG:{value:"1268",txt:"Antigua & Barbuda (+1268)"},AI:{value:"1264",txt:"Anguilla (+1264)"},AM:{value:"374",txt:"Armenia (+374)"},AO:{value:"244",txt:"Angola (+244)"},AR:{value:"54",txt:"Argentina (+54)"},AT:{value:"43",txt:"Austria (+43)"},AU:{value:"61",txt:"Australia (+61)"},AW:{value:"297",txt:"Aruba (+297)"},AZ:{value:"994",txt:"Azerbaijan (+994)"},BA:{value:"387",txt:"Bosnia Herzegovina (+387)"},BB:{value:"1246",txt:"Barbados (+1246)"},BD:{value:"880",txt:"Bangladesh (+880)"},BE:{value:"32",txt:"Belgium (+32)"},BF:{value:"226",txt:"Burkina Faso (+226)"},BG:{value:"359",txt:"Bulgaria (+359)"},BH:{value:"973",txt:"Bahrain (+973)"},BI:{value:"257",txt:"Burundi (+257)"},BJ:{value:"229",txt:"Benin (+229)"},BM:{value:"1441",txt:"Bermuda (+1441)"},BN:{value:"673",txt:"Brunei (+673)"},BO:{value:"591",txt:"Bolivia (+591)"},BR:{value:"55",txt:"Brazil (+55)"},BS:{value:"1242",txt:"Bahamas (+1242)"},BT:{value:"975",txt:"Bhutan (+975)"},BW:{value:"267",txt:"Botswana (+267)"},BY:{value:"375",txt:"Belarus (+375)"},BZ:{value:"501",txt:"Belize (+501)"},CA:{value:"1",txt:"Canada (+1)"},CF:{value:"236",txt:"Central African Republic (+236)"},CG:{value:"242",txt:"Congo (+242)"},CH:{value:"41",txt:"Switzerland (+41)"},CK:{value:"682",txt:"Cook Islands (+682)"},CL:{value:"56",txt:"Chile (+56)"},CM:{value:"237",txt:"Cameroon (+237)"},CN:{value:"86",txt:"China (+86)"},CO:{value:"57",txt:"Colombia (+57)"},CR:{value:"506",txt:"Costa Rica (+506)"},CS:{value:"381",txt:"Serbia (+381)"},CU:{value:"53",txt:"Cuba (+53)"},CV:{value:"238",txt:"Cape Verde Islands (+238)"},CY:{value:"357",txt:"Cyprus South (+357)"},CZ:{value:"42",txt:"Czech Republic (+42)"},DE:{value:"49",txt:"Germany (+49)"},DJ:{value:"253",txt:"Djibouti (+253)"},DK:{value:"45",txt:"Denmark (+45)"},DM:{value:"1809",txt:"Dominica (+1809)"},DO:{value:"1809",txt:"Dominican Republic (+1809)"},DZ:{value:"213",txt:"Algeria (+213)"},EC:{value:"593",txt:"Ecuador (+593)"},EE:{value:"372",txt:"Estonia (+372)"},EG:{value:"20",txt:"Egypt (+20)"},ER:{value:"291",txt:"Eritrea (+291)"},ES:{value:"34",txt:"Spain (+34)"},ET:{value:"251",txt:"Ethiopia (+251)"},FI:{value:"358",txt:"Finland (+358)"},FJ:{value:"679",txt:"Fiji (+679)"},FK:{value:"500",txt:"Falkland Islands (+500)"},FM:{value:"691",txt:"Micronesia (+691)"},FO:{value:"298",txt:"Faroe Islands (+298)"},FR:{value:"33",txt:"France (+33)"},GA:{value:"241",txt:"Gabon (+241)"},GB:{value:"44",txt:"UK (+44)"},GD:{value:"1473",txt:"Grenada (+1473)"},GE:{value:"7880",txt:"Georgia (+7880)"},GF:{value:"594",txt:"French Guiana (+594)"},GH:{value:"233",txt:"Ghana (+233)"},GI:{value:"350",txt:"Gibraltar (+350)"},GL:{value:"299",txt:"Greenland (+299)"},GM:{value:"220",txt:"Gambia (+220)"},GN:{value:"224",txt:"Guinea (+224)"},GP:{value:"590",txt:"Guadeloupe (+590)"},GQ:{value:"240",txt:"Equatorial Guinea (+240)"},GR:{value:"30",txt:"Greece (+30)"},GT:{value:"502",txt:"Guatemala (+502)"},GU:{value:"671",txt:"Guam (+671)"},GW:{value:"245",txt:"Guinea - Bissau (+245)"},GY:{value:"592",txt:"Guyana (+592)"},HK:{value:"852",txt:"Hong Kong (+852)"},HN:{value:"504",txt:"Honduras (+504)"},HR:{value:"385",txt:"Croatia (+385)"},HT:{value:"509",txt:"Haiti (+509)"},HU:{value:"36",txt:"Hungary (+36)"},ID:{value:"62",txt:"Indonesia (+62)"},IE:{value:"353",txt:"Ireland (+353)"},IL:{value:"972",txt:"Israel (+972)"},IN:{value:"91",txt:"India (+91)"},IQ:{value:"964",txt:"Iraq (+964)"},IR:{value:"98",txt:"Iran (+98)"},IS:{value:"354",txt:"Iceland (+354)"},IT:{value:"39",txt:"Italy (+39)"},JM:{value:"1876",txt:"Jamaica (+1876)"},JO:{value:"962",txt:"Jordan (+962)"},JP:{value:"81",txt:"Japan (+81)"},KE:{value:"254",txt:"Kenya (+254)"},KG:{value:"996",txt:"Kyrgyzstan (+996)"},KH:{value:"855",txt:"Cambodia (+855)"},KI:{value:"686",txt:"Kiribati (+686)"},KM:{value:"269",txt:"Comoros (+269)"},KN:{value:"1869",txt:"St. Kitts (+1869)"},KP:{value:"850",txt:"Korea North (+850)"},KR:{value:"82",txt:"Korea South (+82)"},KW:{value:"965",txt:"Kuwait (+965)"},KY:{value:"1345",txt:"Cayman Islands (+1345)"},KZ:{value:"7",txt:"Kazakhstan (+7)"},LA:{value:"856",txt:"Laos (+856)"},LB:{value:"961",txt:"Lebanon (+961)"},LI:{value:"417",txt:"Liechtenstein (+417)"},LK:{value:"94",txt:"Sri Lanka (+94)"},LR:{value:"231",txt:"Liberia (+231)"},LS:{value:"266",txt:"Lesotho (+266)"},LT:{value:"370",txt:"Lithuania (+370)"},LU:{value:"352",txt:"Luxembourg (+352)"},LV:{value:"371",txt:"Latvia (+371)"},LY:{value:"218",txt:"Libya (+218)"},MA:{value:"212",txt:"Morocco (+212)"},MC:{value:"377",txt:"Monaco (+377)"},MD:{value:"373",txt:"Moldova (+373)"},MG:{value:"261",txt:"Madagascar (+261)"},MH:{value:"692",txt:"Marshall Islands (+692)"},MK:{value:"389",txt:"Macedonia (+389)"},ML:{value:"223",txt:"Mali (+223)"},MN:{value:"976",txt:"Mongolia (+976)"},MO:{value:"853",txt:"Macao (+853)"},MQ:{value:"596",txt:"Martinique (+596)"},MR:{value:"222",txt:"Mauritania (+222)"},MS:{value:"1664",txt:"Montserrat (+1664)"},MT:{value:"356",txt:"Malta (+356)"},MV:{value:"960",txt:"Maldives (+960)"},MW:{value:"265",txt:"Malawi (+265)"},MX:{value:"52",txt:"Mexico (+52)"},MY:{value:"60",txt:"Malaysia (+60)"},MZ:{value:"258",txt:"Mozambique (+258)"},NA:{value:"264",txt:"Namibia (+264)"},NC:{value:"687",txt:"New Caledonia (+687)"},NE:{value:"227",txt:"Niger (+227)"},NF:{value:"672",txt:"Norfolk Islands (+672)"},NG:{value:"234",txt:"Nigeria (+234)"},NI:{value:"505",txt:"Nicaragua (+505)"},NL:{value:"31",txt:"Netherlands (+31)"},NO:{value:"47",txt:"Norway (+47)"},NP:{value:"977",txt:"Nepal (+977)"},NR:{value:"674",txt:"Nauru (+674)"},NU:{value:"683",txt:"Niue (+683)"},NZ:{value:"64",txt:"New Zealand (+64)"},OM:{value:"968",txt:"Oman (+968)"},PA:{value:"507",txt:"Panama (+507)"},PE:{value:"51",txt:"Peru (+51)"},PF:{value:"689",txt:"French Polynesia (+689)"},PG:{value:"675",txt:"Papua New Guinea (+675)"},PH:{value:"63",txt:"Philippines (+63)"},PL:{value:"48",txt:"Poland (+48)"},PR:{value:"1787",txt:"Puerto Rico (+1787)"},PT:{value:"351",txt:"Portugal (+351)"},PW:{value:"680",txt:"Palau (+680)"},PY:{value:"595",txt:"Paraguay (+595)"},QA:{value:"974",txt:"Qatar (+974)"},RE:{value:"262",txt:"Reunion (+262)"},RO:{value:"40",txt:"Romania (+40)"},RU:{value:"7",txt:"Russia (+7)"},RW:{value:"250",txt:"Rwanda (+250)"},SA:{value:"966",txt:"Saudi Arabia (+966)"},SB:{value:"677",txt:"Solomon Islands (+677)"},SC:{value:"1758",txt:"St. Lucia (+1758)"},SD:{value:"249",txt:"Sudan (+249)"},SE:{value:"46",txt:"Sweden (+46)"},SG:{value:"65",txt:"Singapore (+65)"},SH:{value:"290",txt:"St. Helena (+290)"},SI:{value:"386",txt:"Slovenia (+386)"},SK:{value:"421",txt:"Slovak Republic (+421)"},SL:{value:"232",txt:"Sierra Leone (+232)"},SM:{value:"378",txt:"San Marino (+378)"},SN:{value:"221",txt:"Senegal (+221)"},SO:{value:"252",txt:"Somalia (+252)"},SR:{value:"597",txt:"Suriname (+597)"},ST:{value:"239",txt:"Sao Tome & Principe (+239)"},SV:{value:"503",txt:"El Salvador (+503)"},SZ:{value:"268",txt:"Swaziland (+268)"},TC:{value:"1649",txt:"Turks & Caicos Islands (+1649)"},TG:{value:"228",txt:"Togo (+228)"},TH:{value:"66",txt:"Thailand (+66)"},TJ:{value:"7",txt:"Tajikstan (+7)"},TM:{value:"993",txt:"Turkmenistan (+993)"},TN:{value:"216",txt:"Tunisia (+216)"},TO:{value:"676",txt:"Tonga (+676)"},TR:{value:"90",txt:"Turkey (+90)"},TT:{value:"1868",txt:"Trinidad & Tobago (+1868)"},TV:{value:"688",txt:"Tuvalu (+688)"},TW:{value:"886",txt:"Taiwan (+886)"},UA:{value:"380",txt:"Ukraine (+380)"},UG:{value:"256",txt:"Uganda (+256)"},US:{value:"1",txt:"USA (+1)"},UY:{value:"598",txt:"Uruguay (+598)"},UZ:{value:"7",txt:"Uzbekistan (+7)"},VA:{value:"379",txt:"Vatican City (+379)"},VE:{value:"58",txt:"Venezuela (+58)"},VG:{value:"84",txt:"Virgin Islands - British (+1284)"},VI:{value:"84",txt:"Virgin Islands - US (+1340)"},VN:{value:"84",txt:"Vietnam (+84)"},VU:{value:"678",txt:"Vanuatu (+678)"},WF:{value:"681",txt:"Wallis & Futuna (+681)"},YE:{value:"969",txt:"Yemen (North)(+969)"},YT:{value:"269",txt:"Mayotte (+269)"},ZA:{value:"27",txt:"South Africa (+27)"},ZM:{value:"260",txt:"Zambia (+260)"},ZW:{value:"263",txt:"Zimbabwe (+263)"}},zhhans:{AD:{value:"376",txt:"\u5b89\u9053\u5c14 (+376)"},AE:{value:"971",txt:"\u963f\u62c9\u4f2f\u8054\u5408\u914b\u957f\u56fd (+971)"},AG:{value:"1268",txt:"\u5b89\u63d0\u74dc\u548c\u5df4\u5e03\u8fbe (+1268)"},AI:{value:"1264",txt:"\u5b89\u572d\u62c9\u5c9b (+1264)"},AM:{value:"374",txt:"\u4e9a\u7f8e\u5c3c\u4e9a (+374)"},AO:{value:"244",txt:"\u5b89\u54e5\u62c9 (+244)"},AR:{value:"54",txt:"\u963f\u6839\u5ef7 (+54)"},AT:{value:"43",txt:"\u5965\u5730\u5229 (+43)"},AU:{value:"61",txt:"\u6fb3\u5927\u5229\u4e9a (+61)"},AW:{value:"297",txt:"\u963f\u9c81\u5df4\u5c9b (+297)"},AZ:{value:"994",txt:"\u963f\u585e\u62dc\u7586 (+994)"},BA:{value:"387",txt:"\u6ce2\u65af\u5c3c\u4e9a\u9ed1\u585e\u54e5\u7ef4\u90a3 (+387)"},BB:{value:"1246",txt:"\u5df4\u5df4\u591a\u65af (+1246)"},BD:{value:"880",txt:"\u5b5f\u52a0\u62c9\u56fd (+880)"},BE:{value:"32",txt:"\u6bd4\u5229\u65f6 (+32)"},BF:{value:"226",txt:"\u5e03\u57fa\u7eb3\u6cd5\u7d22 (+226)"},BG:{value:"359",txt:"\u4fdd\u52a0\u5229\u4e9a (+359)"},BH:{value:"973",txt:"\u5df4\u6797 (+973)"},BI:{value:"257",txt:"\u5e03\u9686\u8fea (+257)"},BJ:{value:"229",txt:"\u8d1d\u5b81 (+229)"},BM:{value:"1441",txt:"\u767e\u6155\u5927 (+1441)"},BN:{value:"673",txt:"\u6587\u83b1 (+673)"},BO:{value:"591",txt:"\u73bb\u5229\u7ef4\u4e9a (+591)"},BR:{value:"55",txt:"\u5df4\u897f (+55)"},BS:{value:"1242",txt:"\u5df4\u54c8\u9a6c (+1242)"},BT:{value:"975",txt:"\u4e0d\u4e39 (+975)"},BW:{value:"267",txt:"\u535a\u8328\u74e6\u7eb3 (+267)"},BY:{value:"375",txt:"\u767d\u4fc4\u7f57\u65af (+375)"},BZ:{value:"501",txt:"\u4f2f\u5229\u5179 (+501)"},CA:{value:"1",txt:"\u52a0\u62ff\u5927 (+1)"},CF:{value:"236",txt:"Central African Republic (+236)"},CG:{value:"242",txt:"\u521a\u679c (+242)"},CH:{value:"41",txt:"\u745e\u58eb (+41)"},CK:{value:"682",txt:"\u5e93\u514b\u7fa4\u5c9b (+682)"},CL:{value:"56",txt:"\u667a\u5229 (+56)"},CM:{value:"237",txt:"\u5580\u9ea6\u9686(+237)"},CN:{value:"86",txt:"\u4e2d\u56fd (+86)"},CO:{value:"57",txt:"\u54e5\u4f26\u6bd4\u4e9a (+57)"},CR:{value:"506",txt:"\u54e5\u65af\u8fbe\u9ece\u52a0 (+506)"},CS:{value:"381",txt:"\u585e\u5c14\u7ef4\u4e9a (+381)"},CU:{value:"53",txt:"\u53e4\u5df4 (+53)"},CV:{value:"238",txt:"\u4f5b\u5f97\u89d2\u7fa4\u5c9b (+238)"},CY:{value:"357",txt:"\u5357\u585e\u6d66\u8def\u65af (+357)"},CZ:{value:"42",txt:"\u6377\u514b\u5171\u548c\u56fd (+42)"},DE:{value:"49",txt:"\u5fb7\u56fd (+49)"},DJ:{value:"253",txt:"\u5409\u5e03\u5730 (+253)"},DK:{value:"45",txt:"\u4e39\u9ea6 (+45)"},DM:{value:"1809",txt:"\u591a\u7c73\u5c3c\u52a0 (+1809)"},DO:{value:"1809",txt:"\u591a\u660e\u5c3c\u52a0\u5171\u548c\u56fd (+1809)"},DZ:{value:"213",txt:"\u963f\u5c14\u53ca\u5229\u4e9a (+213)"},EC:{value:"593",txt:"\u5384\u74dc\u591a\u5c14 (+593)"},EE:{value:"372",txt:"\u7231\u6c99\u5c3c\u4e9a (+372)"},EG:{value:"20",txt:"\u57c3\u53ca (+20)"},ER:{value:"291",txt:"\u5384\u7acb\u7279\u91cc\u4e9a (+291)"},ES:{value:"34",txt:"\u897f\u73ed\u7259 (+34)"},ET:{value:"251",txt:"\u57c3\u585e\u4fc4\u6bd4\u4e9a (+251)"},FI:{value:"358",txt:"\u82ac\u5170 (+358)"},FJ:{value:"679",txt:"\u6590\u6d4e (+679)"},FK:{value:"500",txt:"\u798f\u514b\u5170\u7fa4\u5c9b (+500)"},FM:{value:"691",txt:"\u5bc6\u514b\u7f57\u5c3c\u897f\u4e9a (+691)"},FO:{value:"298",txt:"\u6cd5\u7f57\u7fa4\u5c9b (+298)"},FR:{value:"33",txt:"\u6cd5\u56fd (+33)"},GA:{value:"241",txt:"\u52a0\u84ec (+241)"},GB:{value:"44",txt:"\u82f1\u56fd (+44)"},GD:{value:"1473",txt:"\u683c\u6797\u7eb3\u8fbe (+1473)"},GE:{value:"7880",txt:"\u683c\u9c81\u5409\u4e9a (+7880)"},GF:{value:"594",txt:"\u6cd5\u5c5e\u572d\u4e9a\u90a3 (+594)"},GH:{value:"233",txt:"\u52a0\u7eb3 (+233)"},GI:{value:"350",txt:"\u76f4\u5e03\u7f57\u9640 (+350)"},GL:{value:"299",txt:"\u683c\u9675\u5170 (+299)"},GM:{value:"220",txt:"\u5188\u6bd4\u4e9a (+220)"},GN:{value:"224",txt:"\u51e0\u5185\u4e9a (+224)"},GP:{value:"590",txt:"\u74dc\u5fb7\u7f57\u666e\u5c9b (+590)"},GQ:{value:"240",txt:"\u8d64\u9053\u51e0\u5185\u4e9a (+240)"},GR:{value:"30",txt:"\u5e0c\u814a (+30)"},GT:{value:"502",txt:"\u5371\u5730\u9a6c\u62c9 (+502)"},GU:{value:"671",txt:"\u5173\u5c9b(+671)"},GW:{value:"245",txt:"\u51e0\u5185\u4e9a-\u6bd4\u7ecd (+245)"},GY:{value:"592",txt:"\u572d\u4e9a\u90a3 (+592)"},HK:{value:"852",txt:"\u9999\u6e2f (+852)"},HN:{value:"504",txt:"\u6d2a\u90fd\u62c9\u65af (+504)"},HR:{value:"385",txt:"\u514b\u7f57\u5730\u4e9a (+385)"},HT:{value:"509",txt:"\u6d77\u5730 (+509)"},HU:{value:"36",txt:"\u5308\u7259\u5229 (+36)"},ID:{value:"62",txt:"I\u5370\u5c3c(+62)"},IE:{value:"353",txt:"\u7231\u5c14\u5170 (+353)"},IL:{value:"972",txt:"\u4ee5\u8272\u5217 (+972)"},IN:{value:"91",txt:"I\u5370\u5ea6 (+91)"},IQ:{value:"964",txt:"\u4f0a\u62c9\u514b (+964)"},IR:{value:"98",txt:"\u4f0a\u6717 (+98)"},IS:{value:"354",txt:"\u51b0\u5c9b (+354)"},IT:{value:"39",txt:"\u610f\u5927\u5229 (+39)"},JM:{value:"1876",txt:"\u7259\u4e70\u52a0 (+1876)"},JO:{value:"962",txt:"\u7ea6\u65e6 (+962)"},JP:{value:"81",txt:"\u65e5\u672c (+81)"},KE:{value:"254",txt:"\u80af\u5c3c\u4e9a (+254)"},KG:{value:"996",txt:"\u5409\u5c14\u5409\u65af\u65af\u5766 (+996)"},KH:{value:"855",txt:"\u67ec\u57d4\u5be8 (+855)"},KI:{value:"686",txt:"\u57fa\u91cc\u5df4\u65af (+686)"},KM:{value:"269",txt:"\u79d1\u6469\u7f57 (+269)"},KN:{value:"1869",txt:"\u5723\u57fa\u8328 (+1869)"},KP:{value:"850",txt:"\u671d\u9c9c (+850)"},KR:{value:"82",txt:"\u97e9\u56fd (+82)"},KW:{value:"965",txt:"\u79d1\u5a01\u7279 (+965)"},KY:{value:"1345",txt:"\u5f00\u66fc\u7fa4\u5c9b(+1345)"},KZ:{value:"7",txt:"\u54c8\u8428\u514b\u65af\u5766 (+7)"},LA:{value:"856",txt:"\u8001\u631d (+856)"},LB:{value:"961",txt:"\u9ece\u5df4\u5ae9 (+961)"},LI:{value:"417",txt:"\u5217\u652f\u6566\u58eb\u767b (+417)"},LK:{value:"94",txt:"\u65af\u91cc\u5170\u5361 (+94)"},LR:{value:"231",txt:"\u5229\u6bd4\u91cc\u4e9a (+231)"},LS:{value:"266",txt:"\u83b1\u7d22\u6258 (+266)"},LT:{value:"370",txt:"\u7acb\u9676\u5b9b (+370)"},LU:{value:"352",txt:"\u5362\u68ee\u5821 (+352)"},LV:{value:"371",txt:"\u62c9\u8131\u7ef4\u4e9a (+371)"},LY:{value:"218",txt:"\u5229\u6bd4\u4e9a (+218)"},MA:{value:"212",txt:"\u6469\u6d1b\u79d1 (+212)"},MC:{value:"377",txt:"\u6469\u7eb3\u54e5 (+377)"},MD:{value:"373",txt:"\u6469\u5c14\u591a\u74e6 (+373)"},MG:{value:"261",txt:"\u9a6c\u8fbe\u52a0\u65af\u52a0 (+261)"},MH:{value:"692",txt:"\u9a6c\u7ecd\u5c14\u7fa4\u5c9b (+692)"},MK:{value:"389",txt:"\u9a6c\u5176\u987f (+389)"},ML:{value:"223",txt:"\u9a6c\u91cc (+223)"},MN:{value:"976",txt:"\u8499\u53e4 (+976)"},MO:{value:"853",txt:"\u6fb3\u95e8 (+853)"},MQ:{value:"596",txt:"\u9a6c\u63d0\u5c3c\u514b\u5c9b (+596)"},MR:{value:"222",txt:"\u6bdb\u91cc\u5854\u5c3c\u4e9a (+222)"},MS:{value:"1664",txt:"\u8499\u7279\u585e\u62c9\u7279 (+1664)"},MT:{value:"356",txt:"\u9a6c\u8033\u4ed6 (+356)"},MV:{value:"960",txt:"\u9a6c\u5c14\u4ee3\u592b (+960)"},MW:{value:"265",txt:"\u9a6c\u62c9\u7ef4 (+265)"},MX:{value:"52",txt:"\u58a8\u897f\u54e5 (+52)"},MY:{value:"60",txt:"\u9a6c\u6765\u897f\u4e9a (+60)"},MZ:{value:"258",txt:"\u83ab\u6851\u6bd4\u514b (+258)"},NA:{value:"264",txt:"\u7eb3\u7c73\u6bd4\u4e9a (+264)"},NC:{value:"687",txt:"\u65b0\u5580\u91cc\u591a\u5c3c\u4e9a (+687)"},NE:{value:"227",txt:"\u5c3c\u65e5\u5c14 (+227)"},NF:{value:"672",txt:"\u8bfa\u798f\u514b\u7fa4\u5c9b (+672)"},NG:{value:"234",txt:"\u5c3c\u65e5\u5229\u4e9a (+234)"},NI:{value:"505",txt:"\u5c3c\u52a0\u62c9\u74dc (+505)"},NL:{value:"31",txt:"\u8377\u5170 (+31)"},NO:{value:"47",txt:"\u632a\u5a01 (+47)"},NP:{value:"977",txt:"\u5c3c\u6cca\u5c14 (+977)"},NR:{value:"674",txt:"\u7459\u9c81 (+674)"},NU:{value:"683",txt:"\u7ebd\u57c3 (+683)"},NZ:{value:"64",txt:"\u65b0\u897f\u5170 (+64)"},OM:{value:"968",txt:"\u963f\u66fc (+968)"},PA:{value:"507",txt:"\u5df4\u62ff\u9a6c (+507)"},PE:{value:"51",txt:"\u79d8\u9c81 (+51)"},PF:{value:"689",txt:"\u6cd5\u5c5e\u6ce2\u5229\u5c3c\u897f\u4e9a (+689)"},PG:{value:"675",txt:"\u5df4\u5e03\u4e9a\u65b0\u51e0\u5185\u4e9a (+675)"},PH:{value:"63",txt:"\u83f2\u5f8b\u5bbe (+63)"},PL:{value:"48",txt:"\u6ce2\u5170 (+48)"},PR:{value:"1787",txt:"\u6ce2\u591a\u9ece\u5404 (+1787)"},PT:{value:"351",txt:"\u8461\u8404\u7259 (+351)"},PW:{value:"680",txt:"\u5e15\u52b3 (+680)"},PY:{value:"595",txt:"\u5df4\u62c9\u572d (+595)"},QA:{value:"974",txt:"\u5361\u5854\u5c14 (+974)"},RE:{value:"262",txt:"\u7559\u5c3c\u6c6a\u5c9b (+262)"},RO:{value:"40",txt:"\u7f57\u9a6c\u5c3c\u4e9a(+40)"},RU:{value:"7",txt:"\u4fc4\u7f57\u65af (+7)"},RW:{value:"250",txt:"\u5362\u65fa\u8fbe (+250)"},SA:{value:"966",txt:"\u6c99\u7279\u963f\u62c9\u4f2f (+966)"},SB:{value:"677",txt:"\u6240\u7f57\u95e8\u7fa4\u5c9b (+677)"},SC:{value:"1758",txt:"\u5723\u9732\u897f\u4e9a (+1758)"},SD:{value:"249",txt:"\u82cf\u4e39 (+249)"},SE:{value:"46",txt:"\u745e\u5178 (+46)"},SG:{value:"65",txt:"\u65b0\u52a0\u5761 (+65)"},SH:{value:"290",txt:"\u5723\u6d77\u4f26\u5a1c (+290)"},SI:{value:"386",txt:"\u65af\u6d1b\u6587\u5c3c\u4e9a (+386)"},SK:{value:"421",txt:"\u65af\u6d1b\u4f10\u514b\u5171\u548c\u56fd (+421)"},SL:{value:"232",txt:"\u585e\u62c9\u5229\u6602 (+232)"},SM:{value:"378",txt:"\u5723\u9a6c\u529b\u8bfa (+378)"},SN:{value:"221",txt:"\u585e\u5185\u52a0\u5c14 (+221)"},SO:{value:"252",txt:"\u7d22\u9a6c\u91cc (+252)"},SR:{value:"597",txt:"\u82cf\u91cc\u5357 (+597)"},ST:{value:"239",txt:"\u5723\u591a\u7f8e\u4e0e\u666e\u6797\u897f\u6bd4 (+239)"},SV:{value:"503",txt:"\u8428\u5c14\u74e6\u591a (+503)"},SZ:{value:"268",txt:"\u65af\u5a01\u58eb\u5170 (+268)"},TC:{value:"1649",txt:"\u7279\u514b\u65af\u548c\u51ef\u79d1\u65af\u7fa4\u5c9b (+1649)"},TG:{value:"228",txt:"\u591a\u54e5 (+228)"},TH:{value:"66",txt:"\u6cf0\u56fd (+66)"},TJ:{value:"7",txt:"\u5854\u5409\u514b\u65af\u5766 (+7)"},TM:{value:"993",txt:"\u571f\u5e93\u66fc\u65af\u5766 (+993)"},TN:{value:"216",txt:"\u7a81\u5c3c\u65af (+216)"},TO:{value:"676",txt:"\u6c64\u52a0 (+676)"},TR:{value:"90",txt:"\u571f\u8033\u5176 (+90)"},TT:{value:"1868",txt:"\u7279\u7acb\u5c3c\u8fbe\u548c\u591a\u5df4\u54e5 (+1868)"},TV:{value:"688",txt:"\u56fe\u74e6\u5362 (+688)"},TW:{value:"886",txt:"\u53f0\u6e7e (+886)"},UA:{value:"380",txt:"\u4e4c\u514b\u5170 (+380)"},UG:{value:"256",txt:"\u4e4c\u5e72\u8fbe (+256)"},US:{value:"1",txt:"\u7f8e\u56fd (+1)"},UY:{value:"598",txt:"\u4e4c\u62c9\u572d (+598)"},UZ:{value:"7",txt:"\u4e4c\u5179\u522b\u514b\u65af\u5766 (+7)"},VA:{value:"379",txt:"\u68b5\u8482\u5188\u57ce (+379)"},VE:{value:"58",txt:"\u59d4\u5185\u745e\u62c9 (+58)"},VG:{value:"84",txt:"\u82f1\u5c5e\u7ef4\u4eac\u5c9b (+1284)"},VI:{value:"84",txt:"\u7f8e\u5c5e\u7ef4\u4eac\u5c9b (+1340)"},VN:{value:"84",txt:"\u8d8a\u5357(+84)"},VU:{value:"678",txt:"\u74e6\u52aa\u963f\u56fe (+678)"},WF:{value:"681",txt:"\u74e6\u5229\u65af\u548c\u5bcc\u56fe\u7eb3\u7fa4\u5c9b (+681)"},YE:{value:"969",txt:"\u4e5f\u95e8\uff08\u5317\u90e8\uff09(+969)"},YT:{value:"269",txt:"\u9a6c\u7ea6\u7279\u5c9b (+269)"},ZA:{value:"27",txt:"\u5357\u975e (+27)"},ZM:{value:"260",txt:"\u8d5e\u6bd4\u4e9a (+260)"},ZW:{value:"263",txt:"\u6d25\u5df4\u5e03\u97e6 (+263)"}}},ot={en:{0:"Month",1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"},zhhans:{0:"\u6708",1:"\u4e00\u6708",2:"\u4e8c\u6708",3:"\u6e38\u884c",4:"\u56db\u6708",5:"\u53ef\u4ee5",6:"\u516d\u6708",7:"\u4e03\u6708",8:"\u516b\u6708",9:"\u4e5d\u6708",10:"\u5341\u6708",11:"\u5341\u4e00\u6708",12:"\u5341\u4e8c\u6708"}};function lt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ct(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?lt(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):lt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var it=function(){var e,t=Object(r.useContext)(w).global,a=Object(r.useContext)(b).dispatch,o=$e[t.shared.language],l=nt[t.shared.language],i=ot[t.shared.language],s=t.shared.dob?new Date(t.shared.dob):new Date("0-0-0"),u=s.getDate()||0,v=s.getMonth()+1||0,f=s.getFullYear()||0;if(t.shared.avatarId)e=t.env.imgUrl+t.shared.avatarId;else{var g=t.shared.fullName.split(" ")[0].charAt(0).toLowerCase();e=t.env.imgUrl+"initials/".concat(g,".png")}var E=Object(r.useState)({apiError:"",bio:t.shared.bio||"",bioError:"",country:t.shared.country,day:u.toString(),dobError:"",email:t.shared.email,emailError:"",fullName:t.shared.fullName,fullNameError:"",gender:t.shared.gender||"other",loading:!1,mobileCode:t.shared.mobileCode,mobileNumber:t.shared.mobileNumber,month:v.toString(),username:t.shared.username||"",usernameError:"",webSite:t.shared.webSite||"",webSiteError:"",year:f.toString()}),h=Object(c.a)(E,2),y=h[0],O=h[1],j=y.apiError,N=y.bio,S=y.bioError,C=y.country,k=y.day,T=y.dobError,I=y.email,A=y.emailError,D=y.fullName,U=y.fullNameError,B=y.gender,G=y.loading,R=y.mobileCode,L=y.mobileNumber,F=y.month,K=y.username,H=y.usernameError,z=y.webSite,J=y.webSiteError,V=y.year,Z=function(e){e.persist();var t=e.target,a=t.id,r=t.name,n=t.value,o=t.type;"fullName"===r&&U&&Q("fullName"),"webSite"===r&&J&&Q("webSite"),"bio"===r&&S&&Q("bio"),"email"===r&&A&&Q("email"),O("radio"===o?function(e){return ct({},e,{gender:a})}:function(e){return ct({},e,Object(d.a)({},r,n))})},W=function(){var e=Object(p.a)(m.a.mark((function e(r){var n,o,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O((function(e){return ct({},e,{loading:!0})})),n=r.email!==t.shared.email,e.next=4,fetch("".concat(t.env.apiUrl,"/my/profile"),{body:JSON.stringify({bio:r.bio,country:r.country||"",day:r.day,email:r.email,emailChanged:n,fullName:r.fullName,gender:r.gender,jwtToken:localStorage.getItem("jwtToken"),mobileCode:r.mobileCode,mobileNumber:r.mobileNumber,month:r.month,webSite:r.webSite||"",year:r.year}),headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"});case 4:return o=e.sent,e.next=7,o.json();case 7:l=e.sent,O((function(e){return ct({},e,{loading:!1})})),200===o.status?(localStorage.setItem("jwtToken",l.jwtToken),a({type:x,value:l.shared})):O((function(e){return ct({},e,{apiError:l.error})}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(e){Q(e.target.name)},Q=function(e){return"fullName"===e?/^.{2,}$/.test(D)?(O((function(e){return ct({},e,{fullNameError:""})})),!0):(O((function(e){return ct({},e,{fullNameError:"2 charectors or longer"})})),!1):"webSite"===e?z&&z.length>0&&!/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/.test(z)?(O((function(e){return ct({},e,{webSiteError:"Must start with http:// or https://"})})),!1):(O((function(e){return ct({},e,{webSiteError:""})})),!0):"bio"===e?N&&N.length>0&&N.length>256?(O((function(e){return ct({},e,{bioError:"Must be less than 256 charectors"})})),!1):(O((function(e){return ct({},e,{bioError:""})})),!0):"email"===e?/\S+@\S+\.\S+/.test(I)?(O((function(e){return ct({},e,{emailError:""})})),!0):(O((function(e){return ct({},e,{emailError:"A valid email address is required."})})),!1):void 0};return n.a.createElement("span",{className:"page"},n.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=Q("fullName"),a=Q("webSite"),r=Q("bio"),n=Q("email");t&&a&&r&&n&&W({bio:y.bio,country:y.country,day:y.day,email:y.email,fullName:y.fullName,gender:y.gender,mobileCode:y.mobileCode,mobileNumber:y.mobileNumber,month:y.month,webSite:y.webSite,year:y.year})},className:"form"},n.a.createElement("h4",{className:"form--title"},"Edit Profile"),n.a.createElement("div",{className:"form--body"},n.a.createElement("div",null,"Profile"),n.a.createElement("div",{className:"form--relative"},j&&n.a.createElement("div",{className:"error--api"},j),n.a.createElement("label",null,"Photo"),n.a.createElement(rt,{placeholder:e,resizeTo:180,signedUrl:"".concat(t.env.apiUrl,"/upload/signed-url"),saveImg:"".concat(t.env.apiUrl,"/my/avatar")}),n.a.createElement("label",null,"Full Name",n.a.createElement("input",{autoFocus:!0,className:U&&"form--error",maxLength:70,name:"fullName",onBlur:Y,onChange:Z,type:"text",value:D}),n.a.createElement(M,{error:U})),n.a.createElement("small",null,"Your real name, so your friends can find you."),n.a.createElement("label",null,"Username",n.a.createElement("input",{disabled:!0,name:"username",onChange:Z,type:"text",value:K}),n.a.createElement(M,{error:H})),n.a.createElement("small",null,"https://dicky.world/",K),n.a.createElement("label",null,"Website",n.a.createElement("input",{className:J&&"form--error",name:"webSite",onBlur:Y,onChange:Z,placeholder:"https://www.",type:"text",value:z}),n.a.createElement(M,{error:J})),n.a.createElement("label",null,"Country",n.a.createElement("select",{name:"country",value:C,onChange:Z},n.a.createElement("option",{key:"",value:""},"Select..."),Object.entries(o).map((function(e){var t=Object(c.a)(e,2),a=t[0],r=t[1];return n.a.createElement("option",{key:a,value:a},r)})))),n.a.createElement("label",null,"Bio",n.a.createElement("textarea",{className:S&&"form--error",name:"bio",onChange:Z,value:N}),n.a.createElement(M,{error:S})))),n.a.createElement("div",{className:"form--body"},n.a.createElement("div",null,"Account"),n.a.createElement("div",null,n.a.createElement("label",null,"Email Address",n.a.createElement("input",{className:A&&"form--error",id:"email",name:"email",onBlur:Y,onChange:Z,type:"text",value:I}),n.a.createElement(M,{error:A})),n.a.createElement("small",null,"Email will not be publicly displayed."),n.a.createElement("label",null,"Mobile Number",n.a.createElement("span",{className:"form--mobile"},n.a.createElement("select",{name:"mobileCode",value:R,onChange:Z,className:"form--dialcode"},n.a.createElement("option",{"data-countrycode":"0",key:"0",value:"0"},"Select..."),Object.entries(l).map((function(e){var t=Object(c.a)(e,2),a=t[0],r=t[1];return n.a.createElement("option",{"data-countrycode":a,key:a,value:r.value},r.txt)}))),n.a.createElement("input",{id:"mobileNumber",name:"mobileNumber",onBlur:Y,onChange:Z,type:"text",value:L}))),n.a.createElement("small",null,"Mobile number will not be publicly displayed."),n.a.createElement("label",null,"Birthday"),n.a.createElement("select",{className:"form--dob-year",name:"year",onChange:Z,value:V},n.a.createElement("option",{value:"0"},"Year"),function(){for(var e=[],t=(new Date).getFullYear();t>=1900;t--)e.push(n.a.createElement("option",{key:t,value:t},t));return e}()),n.a.createElement("select",{className:"form--dob-month",name:"month",onChange:Z,value:F},Object.entries(i).map((function(e){var t=Object(c.a)(e,2),a=t[0],r=t[1];return n.a.createElement("option",{key:a,value:a},r)}))),n.a.createElement("select",{className:"form--dob-day ".concat(T&&"form--error"),name:"day",onChange:Z,value:k},n.a.createElement("option",{value:"0"},"Day"),function(){for(var e=[],t=1;t<=31;t++)e.push(n.a.createElement("option",{key:t,value:t},t));return e}()),n.a.createElement("label",null,"Gender"),n.a.createElement("label",{className:"form--radio-label"},n.a.createElement("input",{checked:"male"===B,id:"male",name:"gender",onChange:Z,type:"radio"}),n.a.createElement("span",null,"Male")),n.a.createElement("label",{className:"form--radio-label"},n.a.createElement("input",{checked:"female"===B,id:"female",name:"gender",onChange:Z,type:"radio"}),n.a.createElement("span",null,"Female")),n.a.createElement("label",{className:"form--radio-label"},n.a.createElement("input",{checked:"other"===B,id:"other",name:"gender",onChange:Z,type:"radio"}),n.a.createElement("span",null,"Other")))),n.a.createElement("div",{className:"form--footer"},n.a.createElement("small",null),n.a.createElement("div",null,n.a.createElement("button",{color:"primary",className:"form--save-changes"},G?n.a.createElement("img",{src:P.a,alt:"loading",className:"loading"}):"Save Changes")))))},st=function(){var e=Object(r.useContext)(w).global;return n.a.createElement("span",{className:"page"},n.a.createElement("form",{className:"form"},n.a.createElement("h4",{className:"form--title"},"Verification"),n.a.createElement("div",{className:"form--body"},n.a.createElement("div",null,"Contacts"),n.a.createElement("div",{className:"form--relative"},n.a.createElement("label",null,"Verify Email"),n.a.createElement("small",null,e.shared.email),n.a.createElement("label",null,"Verify Mobile"),n.a.createElement("small",null,"Resend"))),n.a.createElement("div",{className:"form--body"},n.a.createElement("div",null,"Documents"),n.a.createElement("div",{className:"form--relative"},n.a.createElement("label",null,"Government issued identification"),n.a.createElement("small",null,"Drivers licence, passport or national Id"),n.a.createElement("label",null,"Proof of address"),n.a.createElement("small",null,"Utility bill or rental contract"))),n.a.createElement("div",{className:"form--body"},n.a.createElement("div",null,"Selfie"),n.a.createElement("div",{className:"form--relative"},n.a.createElement("label",null,"Full frame face"),n.a.createElement("small",null,"No hat, glasses or backgorund"),n.a.createElement("label",null,"Holding Id"),n.a.createElement("small",null,"Face and ID must be fully visable"))),n.a.createElement("div",{className:"form--footer"},n.a.createElement("small",null,"Providing false information is considered a breach of Dicky.world Terms of Service"),n.a.createElement("div",null))))},ut=function(){return n.a.createElement("div",null,"notFound")},mt=function(e){var t=Object(r.useContext)(b).dispatch,a=e.match.params.resetPassword;return localStorage.setItem("resetCode",a),Object(r.useEffect)((function(){t({type:y,value:"resetpassword"})}),[t]),n.a.createElement("div",{className:"page"})},pt=(a(55),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function dt(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}l.a.render(n.a.createElement((function(){var e=Object(r.useReducer)(O,h),t=Object(c.a)(e,2),a=t[0],o=t[1];return n.a.createElement(b.Provider,{value:{dispatch:o}},n.a.createElement(w.Provider,{value:{global:a}},n.a.createElement(i.a,null,n.a.createElement(s.a,{render:function(e){var t=e.location;return n.a.createElement(se,{location:t},n.a.createElement(s.c,{location:t},n.a.createElement(s.a,{exact:!0,path:"/",component:Be}),n.a.createElement(s.a,{exact:!0,path:"/add/photos",component:Je}),n.a.createElement(s.a,{exact:!0,path:"/my/profile",component:it}),n.a.createElement(s.a,{exact:!0,path:"/my/password",component:Fe}),n.a.createElement(s.a,{exact:!0,path:"/my/preferences",component:We}),n.a.createElement(s.a,{exact:!0,path:"/my/verification",component:st}),n.a.createElement(s.a,{exact:!0,path:"/bus/:id",component:de}),n.a.createElement(s.a,{exact:!0,path:"/confirm-email/:confirmationCode",component:ge}),n.a.createElement(s.a,{exact:!0,path:"/reset-password/:resetPassword",component:mt}),n.a.createElement(s.a,{exact:!0,path:"/:username",component:et}),n.a.createElement(s.a,{component:ut})))}}))))}),null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");pt?(!function(e,t){fetch(e).then((function(a){var r=a.headers.get("content-type");404===a.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):dt(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):dt(t,e)}))}}()},7:function(e,t,a){e.exports=a.p+"static/media/loading.6a19979e.svg"}},[[36,1,2]]]);
//# sourceMappingURL=main.5e0ebf0c.chunk.js.map